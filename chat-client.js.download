(function(){"use strict";var xr;var $t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function kt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Dt={exports:{}};(function(e,t){(function(r,o){e.exports=o()})($t,function(){var r=1e3,o=6e4,n=36e5,s="millisecond",i="second",c="minute",d="hour",u="day",l="week",a="month",h="quarter",f="year",m="date",v="Invalid Date",b=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,E=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,z={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(_){var y=["th","st","nd","rd"],g=_%100;return"["+_+(y[(g-20)%10]||y[g]||y[0])+"]"}},O=function(_,y,g){var C=String(_);return!C||C.length>=y?_:""+Array(y+1-C.length).join(g)+_},Q={s:O,z:function(_){var y=-_.utcOffset(),g=Math.abs(y),C=Math.floor(g/60),w=g%60;return(y<=0?"+":"-")+O(C,2,"0")+":"+O(w,2,"0")},m:function _(y,g){if(y.date()<g.date())return-_(g,y);var C=12*(g.year()-y.year())+(g.month()-y.month()),w=y.clone().add(C,a),k=g-w<0,D=y.clone().add(C+(k?-1:1),a);return+(-(C+(g-w)/(k?w-D:D-w))||0)},a:function(_){return _<0?Math.ceil(_)||0:Math.floor(_)},p:function(_){return{M:a,y:f,w:l,d:u,D:m,h:d,m:c,s:i,ms:s,Q:h}[_]||String(_||"").toLowerCase().replace(/s$/,"")},u:function(_){return _===void 0}},J="en",M={};M[J]=z;var S="$isDayjsObject",p=function(_){return _ instanceof U||!(!_||!_[S])},$=function _(y,g,C){var w;if(!y)return J;if(typeof y=="string"){var k=y.toLowerCase();M[k]&&(w=k),g&&(M[k]=g,w=k);var D=y.split("-");if(!w&&D.length>1)return _(D[0])}else{var R=y.name;M[R]=y,w=R}return!C&&w&&(J=w),w||!C&&J},L=function(_,y){if(p(_))return _.clone();var g=typeof y=="object"?y:{};return g.date=_,g.args=arguments,new U(g)},P=Q;P.l=$,P.i=p,P.w=function(_,y){return L(_,{locale:y.$L,utc:y.$u,x:y.$x,$offset:y.$offset})};var U=function(){function _(g){this.$L=$(g.locale,null,!0),this.parse(g),this.$x=this.$x||g.x||{},this[S]=!0}var y=_.prototype;return y.parse=function(g){this.$d=function(C){var w=C.date,k=C.utc;if(w===null)return new Date(NaN);if(P.u(w))return new Date;if(w instanceof Date)return new Date(w);if(typeof w=="string"&&!/Z$/i.test(w)){var D=w.match(b);if(D){var R=D[2]-1||0,B=(D[7]||"0").substring(0,3);return k?new Date(Date.UTC(D[1],R,D[3]||1,D[4]||0,D[5]||0,D[6]||0,B)):new Date(D[1],R,D[3]||1,D[4]||0,D[5]||0,D[6]||0,B)}}return new Date(w)}(g),this.init()},y.init=function(){var g=this.$d;this.$y=g.getFullYear(),this.$M=g.getMonth(),this.$D=g.getDate(),this.$W=g.getDay(),this.$H=g.getHours(),this.$m=g.getMinutes(),this.$s=g.getSeconds(),this.$ms=g.getMilliseconds()},y.$utils=function(){return P},y.isValid=function(){return this.$d.toString()!==v},y.isSame=function(g,C){var w=L(g);return this.startOf(C)<=w&&w<=this.endOf(C)},y.isAfter=function(g,C){return L(g)<this.startOf(C)},y.isBefore=function(g,C){return this.endOf(C)<L(g)},y.$g=function(g,C,w){return P.u(g)?this[C]:this.set(w,g)},y.unix=function(){return Math.floor(this.valueOf()/1e3)},y.valueOf=function(){return this.$d.getTime()},y.startOf=function(g,C){var w=this,k=!!P.u(C)||C,D=P.p(g),R=function(we,Y){var le=P.w(w.$u?Date.UTC(w.$y,Y,we):new Date(w.$y,Y,we),w);return k?le:le.endOf(u)},B=function(we,Y){return P.w(w.toDate()[we].apply(w.toDate("s"),(k?[0,0,0,0]:[23,59,59,999]).slice(Y)),w)},x=this.$W,F=this.$M,ee=this.$D,Ee="set"+(this.$u?"UTC":"");switch(D){case f:return k?R(1,0):R(31,11);case a:return k?R(1,F):R(0,F+1);case l:var pe=this.$locale().weekStart||0,ke=(x<pe?x+7:x)-pe;return R(k?ee-ke:ee+(6-ke),F);case u:case m:return B(Ee+"Hours",0);case d:return B(Ee+"Minutes",1);case c:return B(Ee+"Seconds",2);case i:return B(Ee+"Milliseconds",3);default:return this.clone()}},y.endOf=function(g){return this.startOf(g,!1)},y.$set=function(g,C){var w,k=P.p(g),D="set"+(this.$u?"UTC":""),R=(w={},w[u]=D+"Date",w[m]=D+"Date",w[a]=D+"Month",w[f]=D+"FullYear",w[d]=D+"Hours",w[c]=D+"Minutes",w[i]=D+"Seconds",w[s]=D+"Milliseconds",w)[k],B=k===u?this.$D+(C-this.$W):C;if(k===a||k===f){var x=this.clone().set(m,1);x.$d[R](B),x.init(),this.$d=x.set(m,Math.min(this.$D,x.daysInMonth())).$d}else R&&this.$d[R](B);return this.init(),this},y.set=function(g,C){return this.clone().$set(g,C)},y.get=function(g){return this[P.p(g)]()},y.add=function(g,C){var w,k=this;g=Number(g);var D=P.p(C),R=function(F){var ee=L(k);return P.w(ee.date(ee.date()+Math.round(F*g)),k)};if(D===a)return this.set(a,this.$M+g);if(D===f)return this.set(f,this.$y+g);if(D===u)return R(1);if(D===l)return R(7);var B=(w={},w[c]=o,w[d]=n,w[i]=r,w)[D]||1,x=this.$d.getTime()+g*B;return P.w(x,this)},y.subtract=function(g,C){return this.add(-1*g,C)},y.format=function(g){var C=this,w=this.$locale();if(!this.isValid())return w.invalidDate||v;var k=g||"YYYY-MM-DDTHH:mm:ssZ",D=P.z(this),R=this.$H,B=this.$m,x=this.$M,F=w.weekdays,ee=w.months,Ee=w.meridiem,pe=function(Y,le,De,Xe){return Y&&(Y[le]||Y(C,k))||De[le].slice(0,Xe)},ke=function(Y){return P.s(R%12||12,Y,"0")},we=Ee||function(Y,le,De){var Xe=Y<12?"AM":"PM";return De?Xe.toLowerCase():Xe};return k.replace(E,function(Y,le){return le||function(De){switch(De){case"YY":return String(C.$y).slice(-2);case"YYYY":return P.s(C.$y,4,"0");case"M":return x+1;case"MM":return P.s(x+1,2,"0");case"MMM":return pe(w.monthsShort,x,ee,3);case"MMMM":return pe(ee,x);case"D":return C.$D;case"DD":return P.s(C.$D,2,"0");case"d":return String(C.$W);case"dd":return pe(w.weekdaysMin,C.$W,F,2);case"ddd":return pe(w.weekdaysShort,C.$W,F,3);case"dddd":return F[C.$W];case"H":return String(R);case"HH":return P.s(R,2,"0");case"h":return ke(1);case"hh":return ke(2);case"a":return we(R,B,!0);case"A":return we(R,B,!1);case"m":return String(B);case"mm":return P.s(B,2,"0");case"s":return String(C.$s);case"ss":return P.s(C.$s,2,"0");case"SSS":return P.s(C.$ms,3,"0");case"Z":return D}return null}(Y)||D.replace(":","")})},y.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},y.diff=function(g,C,w){var k,D=this,R=P.p(C),B=L(g),x=(B.utcOffset()-this.utcOffset())*o,F=this-B,ee=function(){return P.m(D,B)};switch(R){case f:k=ee()/12;break;case a:k=ee();break;case h:k=ee()/3;break;case l:k=(F-x)/6048e5;break;case u:k=(F-x)/864e5;break;case d:k=F/n;break;case c:k=F/o;break;case i:k=F/r;break;default:k=F}return w?k:P.a(k)},y.daysInMonth=function(){return this.endOf(a).$D},y.$locale=function(){return M[this.$L]},y.locale=function(g,C){if(!g)return this.$L;var w=this.clone(),k=$(g,C,!0);return k&&(w.$L=k),w},y.clone=function(){return P.w(this.$d,this)},y.toDate=function(){return new Date(this.valueOf())},y.toJSON=function(){return this.isValid()?this.toISOString():null},y.toISOString=function(){return this.$d.toISOString()},y.toString=function(){return this.$d.toUTCString()},_}(),W=U.prototype;return L.prototype=W,[["$ms",s],["$s",i],["$m",c],["$H",d],["$W",u],["$M",a],["$y",f],["$D",m]].forEach(function(_){W[_[1]]=function(y){return this.$g(y,_[0],_[1])}}),L.extend=function(_,y){return _.$i||(_(y,U,L),_.$i=!0),L},L.locale=$,L.isDayjs=p,L.unix=function(_){return L(1e3*_)},L.en=M[J],L.Ls=M,L.p={},L})})(Dt);var Vr=Dt.exports;const Ie=kt(Vr);var It={exports:{}};(function(e,t){(function(r,o){e.exports=o()})($t,function(){var r,o,n=1e3,s=6e4,i=36e5,c=864e5,d=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,u=31536e6,l=2628e6,a=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,h={years:u,months:l,days:c,hours:i,minutes:s,seconds:n,milliseconds:1,weeks:6048e5},f=function(M){return M instanceof Q},m=function(M,S,p){return new Q(M,p,S.$l)},v=function(M){return o.p(M)+"s"},b=function(M){return M<0},E=function(M){return b(M)?Math.ceil(M):Math.floor(M)},z=function(M){return Math.abs(M)},O=function(M,S){return M?b(M)?{negative:!0,format:""+z(M)+S}:{negative:!1,format:""+M+S}:{negative:!1,format:""}},Q=function(){function M(p,$,L){var P=this;if(this.$d={},this.$l=L,p===void 0&&(this.$ms=0,this.parseFromMilliseconds()),$)return m(p*h[v($)],this);if(typeof p=="number")return this.$ms=p,this.parseFromMilliseconds(),this;if(typeof p=="object")return Object.keys(p).forEach(function(_){P.$d[v(_)]=p[_]}),this.calMilliseconds(),this;if(typeof p=="string"){var U=p.match(a);if(U){var W=U.slice(2).map(function(_){return _!=null?Number(_):0});return this.$d.years=W[0],this.$d.months=W[1],this.$d.weeks=W[2],this.$d.days=W[3],this.$d.hours=W[4],this.$d.minutes=W[5],this.$d.seconds=W[6],this.calMilliseconds(),this}}return this}var S=M.prototype;return S.calMilliseconds=function(){var p=this;this.$ms=Object.keys(this.$d).reduce(function($,L){return $+(p.$d[L]||0)*h[L]},0)},S.parseFromMilliseconds=function(){var p=this.$ms;this.$d.years=E(p/u),p%=u,this.$d.months=E(p/l),p%=l,this.$d.days=E(p/c),p%=c,this.$d.hours=E(p/i),p%=i,this.$d.minutes=E(p/s),p%=s,this.$d.seconds=E(p/n),p%=n,this.$d.milliseconds=p},S.toISOString=function(){var p=O(this.$d.years,"Y"),$=O(this.$d.months,"M"),L=+this.$d.days||0;this.$d.weeks&&(L+=7*this.$d.weeks);var P=O(L,"D"),U=O(this.$d.hours,"H"),W=O(this.$d.minutes,"M"),_=this.$d.seconds||0;this.$d.milliseconds&&(_+=this.$d.milliseconds/1e3,_=Math.round(1e3*_)/1e3);var y=O(_,"S"),g=p.negative||$.negative||P.negative||U.negative||W.negative||y.negative,C=U.format||W.format||y.format?"T":"",w=(g?"-":"")+"P"+p.format+$.format+P.format+C+U.format+W.format+y.format;return w==="P"||w==="-P"?"P0D":w},S.toJSON=function(){return this.toISOString()},S.format=function(p){var $=p||"YYYY-MM-DDTHH:mm:ss",L={Y:this.$d.years,YY:o.s(this.$d.years,2,"0"),YYYY:o.s(this.$d.years,4,"0"),M:this.$d.months,MM:o.s(this.$d.months,2,"0"),D:this.$d.days,DD:o.s(this.$d.days,2,"0"),H:this.$d.hours,HH:o.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:o.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:o.s(this.$d.seconds,2,"0"),SSS:o.s(this.$d.milliseconds,3,"0")};return $.replace(d,function(P,U){return U||String(L[P])})},S.as=function(p){return this.$ms/h[v(p)]},S.get=function(p){var $=this.$ms,L=v(p);return L==="milliseconds"?$%=1e3:$=L==="weeks"?E($/h[L]):this.$d[L],$||0},S.add=function(p,$,L){var P;return P=$?p*h[v($)]:f(p)?p.$ms:m(p,this).$ms,m(this.$ms+P*(L?-1:1),this)},S.subtract=function(p,$){return this.add(p,$,!0)},S.locale=function(p){var $=this.clone();return $.$l=p,$},S.clone=function(){return m(this.$ms,this)},S.humanize=function(p){return r().add(this.$ms,"ms").locale(this.$l).fromNow(!p)},S.valueOf=function(){return this.asMilliseconds()},S.milliseconds=function(){return this.get("milliseconds")},S.asMilliseconds=function(){return this.as("milliseconds")},S.seconds=function(){return this.get("seconds")},S.asSeconds=function(){return this.as("seconds")},S.minutes=function(){return this.get("minutes")},S.asMinutes=function(){return this.as("minutes")},S.hours=function(){return this.get("hours")},S.asHours=function(){return this.as("hours")},S.days=function(){return this.get("days")},S.asDays=function(){return this.as("days")},S.weeks=function(){return this.get("weeks")},S.asWeeks=function(){return this.as("weeks")},S.months=function(){return this.get("months")},S.asMonths=function(){return this.as("months")},S.years=function(){return this.get("years")},S.asYears=function(){return this.as("years")},M}(),J=function(M,S,p){return M.add(S.years()*p,"y").add(S.months()*p,"M").add(S.days()*p,"d").add(S.hours()*p,"h").add(S.minutes()*p,"m").add(S.seconds()*p,"s").add(S.milliseconds()*p,"ms")};return function(M,S,p){r=p,o=p().$utils(),p.duration=function(P,U){var W=p.locale();return m(P,{$l:W},U)},p.isDuration=f;var $=S.prototype.add,L=S.prototype.subtract;S.prototype.add=function(P,U){return f(P)?J(this,P,1):$.bind(this)(P,U)},S.prototype.subtract=function(P,U){return f(P)?J(this,P,-1):L.bind(this)(P,U)}}})})(It);var Wr=It.exports;const Fr=kt(Wr);Ie.extend(Fr);function Gr(e){var n,s;if(typeof e=="number")return e;const t=/^(?<number>[\d.]+)(?<unit>[a-z]+)$/i.exec(e),r=((n=t==null?void 0:t.groups)==null?void 0:n.number)??0,o=(s=t==null?void 0:t.groups)==null?void 0:s.unit;return Ie.duration(Number(r),o).asMilliseconds()}function zt(e,t){return Ie(e).format(t??"YYYY-MM-DD HH:mm:ss")}function Kr(){const[e]=[Date.now(),new Date().valueOf(),Number(new Date)].filter(t=>typeof t=="number");if(typeof e!="number")throw new Error("Date.now() is not a number");return e}function Hr(e,t){const r=typeof e=="string"?Gr(e):e;return t?new Promise(o=>{const n=setTimeout(o,r);t.addEventListener("abort",()=>{clearTimeout(n),o()})}):new Promise(o=>{setTimeout(o,r)})}function At(e){return new Promise(t=>{const r=e(o=>{r(),t(o)})})}function Tt(e){return typeof e=="object"&&e!==null}function Yr(e){return e===void 0}function Rt(e){return(...t)=>t.filter(r=>!Yr(r)).map(r=>r.toString()).reduce((r,o)=>(r=r.replace(new RegExp(`${e}*$`),""),o=o.replace(new RegExp(`^${e}*`),""),r===""?o:o===""?r:`${r}${e}${o}`),"")}function Nt(e){return e.replace(/^./,t=>t.toUpperCase())}function Qe(e){return e.replace(/^./,t=>t.toLowerCase())}const qr=Rt("/"),K=(...e)=>qr(...e.filter(t=>!!t)),et={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_BUILD_NUMBER:"6830",VITE_IS_CDN:"true",VITE_LIVESDK_VERSION:"4.2.0.6830"},tt=new Map,ze=e=>{const t=tt.get(e);return t?Object.fromEntries(Object.entries(t.stores).map(([r,o])=>[r,o.getState()])):{}},Jr=(e,t,r)=>{if(e===void 0)return{type:"untracked",connection:t.connect(r)};const o=tt.get(r.name);if(o)return{type:"tracked",store:e,...o};const n={connection:t.connect(r),stores:{}};return tt.set(r.name,n),{type:"tracked",store:e,...n}},jt=(e,t={})=>(r,o,n)=>{const{enabled:s,anonymousActionType:i,store:c,...d}=t;let u;try{u=(s??(et?"production":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!u)return(et?"production":void 0)!=="production"&&s&&console.warn("[zustand devtools middleware] Please install/enable Redux devtools extension"),e(r,o,n);const{connection:l,...a}=Jr(c,u,d);let h=!0;n.setState=(v,b,E)=>{const z=r(v,b);if(!h)return z;const O=E===void 0?{type:i||"anonymous"}:typeof E=="string"?{type:E}:E;return c===void 0?(l==null||l.send(O,o()),z):(l==null||l.send({...O,type:`${c}/${O.type}`},{...ze(d.name),[c]:n.getState()}),z)};const f=(...v)=>{const b=h;h=!1,r(...v),h=b},m=e(n.setState,o,n);if(a.type==="untracked"?l==null||l.init(m):(a.stores[a.store]=n,l==null||l.init(Object.fromEntries(Object.entries(a.stores).map(([v,b])=>[v,v===a.store?m:b.getState()])))),n.dispatchFromDevtools&&typeof n.dispatch=="function"){let v=!1;const b=n.dispatch;n.dispatch=(...E)=>{(et?"production":void 0)!=="production"&&E[0].type==="__setState"&&!v&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),v=!0),b(...E)}}return l.subscribe(v=>{var b;switch(v.type){case"ACTION":if(typeof v.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return rt(v.payload,E=>{if(E.type==="__setState"){if(c===void 0){f(E.state);return}Object.keys(E.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format. 
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const z=E.state[c];if(z==null)return;JSON.stringify(n.getState())!==JSON.stringify(z)&&f(z);return}n.dispatchFromDevtools&&typeof n.dispatch=="function"&&n.dispatch(E)});case"DISPATCH":switch(v.payload.type){case"RESET":return f(m),c===void 0?l==null?void 0:l.init(n.getState()):l==null?void 0:l.init(ze(d.name));case"COMMIT":if(c===void 0){l==null||l.init(n.getState());return}return l==null?void 0:l.init(ze(d.name));case"ROLLBACK":return rt(v.state,E=>{if(c===void 0){f(E),l==null||l.init(n.getState());return}f(E[c]),l==null||l.init(ze(d.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return rt(v.state,E=>{if(c===void 0){f(E);return}JSON.stringify(n.getState())!==JSON.stringify(E[c])&&f(E[c])});case"IMPORT_STATE":{const{nextLiftedState:E}=v.payload,z=(b=E.computedStates.slice(-1)[0])==null?void 0:b.state;if(!z)return;f(c===void 0?z:z[c]),l==null||l.send(null,E);return}case"PAUSE_RECORDING":return h=!h}return}}),m},rt=(e,t)=>{let r;try{r=JSON.parse(e)}catch(o){console.error("[zustand devtools middleware] Could not parse the received json",o)}r!==void 0&&t(r)},Xr=e=>(t,r,o)=>{const n=o.subscribe;return o.subscribe=(i,c,d)=>{let u=i;if(c){const l=(d==null?void 0:d.equalityFn)||Object.is;let a=i(o.getState());u=h=>{const f=i(h);if(!l(a,f)){const m=a;c(a=f,m)}},d!=null&&d.fireImmediately&&c(a,a)}return n(u)},e(t,r,o)},Qr={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_BUILD_NUMBER:"6830",VITE_IS_CDN:"true",VITE_LIVESDK_VERSION:"4.2.0.6830"},Bt=e=>{let t;const r=new Set,o=(l,a)=>{const h=typeof l=="function"?l(t):l;if(!Object.is(h,t)){const f=t;t=a??(typeof h!="object"||h===null)?h:Object.assign({},t,h),r.forEach(m=>m(t,f))}},n=()=>t,d={setState:o,getState:n,getInitialState:()=>u,subscribe:l=>(r.add(l),()=>r.delete(l)),destroy:()=>{(Qr?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),r.clear()}},u=t=e(o,n,d);return d},Zt=e=>e?Bt(e):Bt;function ot(e,t=new WeakMap){if(e===null||typeof e!="object")return e;if(t.has(e))return t.get(e);let r;if(Array.isArray(e))r=Array.from(e),t.set(e,r),r=r.map(o=>ot(o,t));else if(Object.prototype.toString.call(e)==="[object Object]"){r=Object.create(Object.getPrototypeOf(e)),t.set(e,r);const o=Object.getOwnPropertyDescriptors(e);Object.keys(o).forEach(n=>{const s=o[n];s.get||s.set?Object.defineProperty(r,n,s):r[n]=ot(e[n],t)})}else r=e;return r}function Ut(e,...t){return t.forEach(r=>{Object.keys(r).forEach(o=>{const n=Object.getOwnPropertyDescriptor(r,o);n!=null&&n.get||n!=null&&n.set?Object.defineProperty(e,o,n):Reflect.set(e,o,r[o])})}),e}function eo(e,...t){return t.forEach(r=>{Object.keys(r).forEach(o=>{const n=Object.getOwnPropertyDescriptor(r,o);n?Object.defineProperty(e,o,n):Reflect.set(e,o,r[o])})}),e}const xt=e=>(t,r,o)=>(o.setState=(n,s)=>{if(typeof r()!="object"||r()===null)return t(n,!0);const i=ot(r());let c=i;return typeof n=="function"?n(i):c=s?n:Ut(i,n),t(c,!0)},e(o.setState,r,o));function to({timeout:e,onTimeout:t,onNameDuplicate:r,onMultipleProvide:o}={}){const n={};function s(a,h){return Tt(a)?Ut({},a,...h.map(f=>f.value)):Object.assign({value:a},...h)}function i(a){n[a]||(n[a]=ro()),Object.keys(n).filter(f=>f===a).length>1&&(r==null||r(a))}function c(a,h){i(a),n[a].value!==null&&(o==null||o(a)),n[a].value=h,n[a].store.setState(s(h,n[a].overrides))}function d(a,h){i(a);const f={value:h},m=n[a];return m.overrides.push(f),m.value!==null&&m.store.setState(s(m.value,m.overrides)),()=>{m.overrides=m.overrides.filter(v=>v!==f),m.store.setState(s(m.value,m.overrides))}}async function u(a,h){i(a);const f=n[a];if(f.value!==null){if(h){h(l(a));return}return l(a)}if(h){At(f.store.subscribe).then(()=>h(l(a)));return}const m=new AbortController;return e&&t&&Hr(e,m.signal).then(()=>t(a)),await At(f.store.subscribe).then(()=>{m.abort()}),l(a)}function l(a){const h=n[a];return h?Tt(h.value)?h.store.getState():h.store.getState().value:null}return{get:l,inject:u,provide:c,override:d}}function ro(){return{store:Zt(xt(jt(()=>({})))),value:null,overrides:[]}}async function oo(e,t){return await new Promise(r=>{const o=()=>{e()?r(t==null?void 0:t()):requestAnimationFrame(o)};o()})}function no(e){try{return new URL(`https://${e}`).hostname===e}catch{return!1}}function so(e){return e==="https://zoom.us"||e==="https://zoom.com"?!0:no(e)?/^(zoom\.us|zoom\.com)$/.test(e)||/\.(zoom\.us|zoom\.com)$/.test(e):!1}function io(e,t=!1){try{const r=so(e);return t?r:r&&window.location.hostname!==e}catch{return!1}}async function ao(){return oo(()=>!!document.body,()=>document.body)}function co(e){let t=!1;const r=new Map,o=c=>{const d=c.toString();if(!r.has(d)){if(t)throw new Error(`Hook "${e}" is disposed`);return r.set(d,c),()=>{r.delete(d)}}},n=()=>{t=!0,r.clear()},s=c=>new Promise(d=>{if(t)throw new Error(`Hook "${e}" is disposed`);const u=[...r.values()];Promise.all(u.map(l=>l(c))).then(()=>d())}),i=Nt(e);return{[e]:s,[`on${i}`]:o,[`dispose${i}`]:n}}function lo(e){let t=Qe(e);return/^on[A-Z]/.test(e)&&(t=Qe(e.slice(2))),/^dispose[A-Z]/.test(e)&&(t=Qe(e.slice(7))),t}class uo{constructor(){this._hooks={},this.hooks=new Proxy(this._hooks,{get:(t,r,o)=>{if(typeof r!="string")return Reflect.get(t,r,o);const n=lo(r);return t[n]||this.define(n),t[n][r]}})}define(t){Array.isArray(t)?t.forEach(r=>{this.defineSingle(r)}):this.defineSingle(t)}defineSingle(t){if(this._hooks[t])return;const r=co(t);this._hooks[t]=r}dispose(t){const r=this._hooks[t];r&&(r[`dispose${Nt(t)}`](),delete this._hooks[t])}disposeAll(){Object.keys(this._hooks).forEach(t=>{this.dispose(t)})}get hook(){return this.hooks}get trigger(){return this.hooks}}class Vt{constructor(t){this.id=t}get name(){return this.id.name}get category(){return this.id.category}impl(t,r){const o=t;return o.id=this.id,Reflect.defineProperty(o,"name",{value:o.name||this.name,writable:!1}),Reflect.defineProperty(o,"dependencies",{value:r??[]}),o}}const Wt=Symbol.for("PLUGIFY_STORE"),fo=Symbol.for("PLUGIFY_DYNAMIC_LOAD"),ue=e=>{const[t,r]=e.split("/");return new Vt({name:r,category:t||"?"})},ho=ue("PlugifyBuiltin/DependencyInjectionPlugin").impl(e=>{const{logger:t}=e();return{serviceContainer:to({timeout:"10s",onTimeout(o){t.warn(`${o.description} may not be registered!`)},onMultipleProvide(o){t.warn(`${o.description} is already registered!`)},onNameDuplicate(o){t.warn(`Multiple serive with same name: ${o.description}!`)}})}}),mo=e=>t=>{const{hook:r}=e;t==null||t(r)},go=e=>ue("PlugifyBuiltin/HookPlugin").impl(t=>{const{logger:r}=t(),o=new uo,{disposed:n}=o.trigger,{onCreated:s,onDisposed:i}=o.hook;e==null||e.forEach(d=>mo(o)(d));const c=()=>{n(),o.disposeAll()};return s(()=>{r.info("Created"),window.addEventListener("unload",c)}),i(()=>{r.info("Disposed")}),{onCreated:s,onDisposed:i,dispose:c,get hookManager(){return o}}}),Ae=Symbol.for("LIVESDK_GLOBAL_ENV");window[Ae]||(window[Ae]={});function Ft(e){eo(window[Ae],e)}function Gt(e){return Ft(e),[()=>window[Ae],o=>{const n={};o(n),Ft(n)}]}const[Te,po]=Gt({});window.location.search.includes("enableLivesdkLog")&&po(e=>{e.COMMON_ENABLE_LOG=!0});const Kt=Rt("/"),wo=ue("PlugifyBuiltin/LoggerPlugin");function nt(e,t){const r=(o,n,...s)=>{const i={app:e,level:o,message:n,timestamp:Ie().valueOf(),data:s};t(i)};return{info:(o,...n)=>r("info",o,...n),warn:(o,...n)=>r("warn",o,...n),error:(o,...n)=>r("error",o,...n),task:(o,n)=>(r("info",`${o}...`),n.then(()=>{r("info",`${o}...done ✅`)}).catch(s=>{r("error",`${o}...failed ❌`,s)}),n)}}const st=e=>{const t=Te().COMMON_LOG_HANDLER;if(t)try{t(e)}catch(r){console.error(r)}else(e.level==="error"||Te().COMMON_ENABLE_LOG)&&Eo(e)},yo={...nt("LivesdkGlobal",st),create:e=>nt(Kt("LivesdkGlobal",e),st)},So=(e,t)=>wo.impl(()=>{const r=new Set,o=s=>nt(Kt(e,s??""),i=>{for(const c of r)c(i)}),n=s=>(r.add(s),()=>{r.delete(s)});return t&&n(t),{getLogger:o,useLogger:n}}),Re=/Chrome/.test(navigator.userAgent),Ht=e=>Re?`\x1B[90m${e}\x1B[39m`:e,vo=e=>Re?`\x1B[32m${e}\x1B[39m`:e,bo=e=>Re?`\x1B[33m${e}\x1B[39m`:e,_o=e=>Re?`\x1B[31m${e}\x1B[39m`:e;function Co(e,t,r){let o;switch(e){case"info":o=vo;break;case"warn":o=bo;break;case"error":o=_o;break;case"debug":o=Ht;break;default:o=s=>s}const n=r?`__${r}`:"";return`${o(`[${e.toUpperCase()}${n}]`)} ${Ht(zt(t,"YYYY-MM-DD HH:mm:ss.SSS"))} -`}function Eo(e){console.log(Co(e.level,e.timestamp,e.app),e.message,...e.data)}const Po=ue("PlugifyBuiltin/MetaPlugin"),Oo=e=>Po.impl(()=>{const{name:t,instanceId:r,debug:o,data:n={},entryMode:s}=e;return{get $meta(){return{instanceId:r,name:t,debug:o??!1,data:n,entryMode:s}}}},[]);function Mo(e,{name:t,debug:r,instanceId:o,hooks:n,entryMode:s}={}){const i=Zt(Xr(jt(xt(()=>({}))))),c=[So(t,st),Oo({instanceId:o,name:t,entryMode:s}),ho,go(n??[]),...e],d=new Set;let u=!1;const l=m=>{const v=qt(m),b=new Map(v.filter(O=>typeof O=="function").map(O=>[O.id,O]));let E=new Set;const z=O=>{E.add(O)};for(const O of v){if(d.has(O.id))continue;let Q=M=>()=>{const S=i.getState();return new Proxy(S,{get(p,$){return $==="logger"?S.getLogger(M.name):$==="$pluginName"?M.name:Reflect.get(p,$)}})};const J=r?M=>{typeof M=="function"?i.setState(S=>{const p=new Proxy(S,{get($,L){return Reflect.get($,L)},set($,L,P){return console.trace("plugify set:",L,"=",P),Reflect.set($,L,P)}});M(p)}):(Object.keys(M).forEach(S=>{console.trace("plugify set:",S,"=",M[S])}),i.setState(M))}:i.setState;if(u&&(Q=M=>()=>{const S=i.getState();return new Proxy(S,{get(p,$){return $==="logger"?S.getLogger(M.name):$==="onCreated"?z:Reflect.get(p,$)}})}),Lo(O)){const M=b.get(O.id);if(M){const S=M(Q(O),J,i);S&&i.setState(S)}else throw new Error(`❌ Implementation for ${O.id.name} not found`)}else if(Yt(O)){const M=O(Q(O),J,i);M&&i.setState(M)}d.add(O.id)}u&&(E.forEach(O=>O()),E=new Set)};l(c),u=!0;const{hookManager:a,getLogger:h}=i.getState();a.trigger.created({logger:h(`${t}mixin`)});const f={};return Object.keys(i.getState()).forEach(m=>{const v=Reflect.getOwnPropertyDescriptor(i.getState(),m);v!=null&&v.set?Reflect.defineProperty(f,m,v):Reflect.defineProperty(f,m,{get(){return i.getState()[m]},enumerable:!0})}),Reflect.defineProperty(f,Wt,{value:i,writable:!1}),Reflect.defineProperty(f,fo,{value:l,writable:!1}),i.subscribe(m=>{Object.keys(m).forEach(b=>{Reflect.has(f,b)||Reflect.defineProperty(f,b,{get(){return i.getState()[b]}})})}),f}function Yt(e){return typeof e=="function"}function Lo(e){return e instanceof Vt}function qt(e){const t=new WeakSet;return e.map(r=>{if(t.has(r))return[];t.add(r);const o=Reflect.get(r,"dependencies");return Yt(r)&&(o==null?void 0:o.length)>0?[...qt(o),r]:r}).flat()}function $o(...e){const[t,r,o]=e,n=Reflect.get(t,Wt);if(!n)throw new Error("plugify.subscribe() can only be used with minxins");return o?n.subscribe(r,o):n.subscribe(r)}Reflect.defineProperty(ue,"mixin",{value:Mo,writable:!1}),Reflect.defineProperty(ue,"subscribe",{value:$o,writable:!1});const Ne=ue,de=Object.fromEntries(Object.entries({dev:{ZCC_WEB:"https://ccizp.zoomdev.us",ZCC_API:"https://ccizpapi.zoomdev.us",ZPNS:"wss://zpns.zoomdev.us/ws",WEB:"zoomdev.us",SCHEDULER:"http://localhost:3000",CAMPAIGN:"https://devcampaign.zoomdev.us",ZVA_API:"https://devapizva.zoomdev.us",SDK:"https://devccistatic.zoomdev.us/web-sdk",LOG:"https://devlog-gateway.zoomdev.us/nws/join/logger/zccfelog",ZCB_SDK:"https://zcb.zoomdev.us/static/resource/cci"},devb:{ZCC_WEB:"https://dev01cci.zoomdev.us",ZCC_API:"https://dev01cciapi.zoomdev.us",ZPNS:"wss://zpns.zoomdev.us/ws",WEB:"zoomdev.us",SCHEDULER:"https://scheduler.acqa.zoomdev.us",CAMPAIGN:"https://dev01campaign.zoomdev.us",ZVA_API:"https://dev01apizva.zoomdev.us",SDK:"https://devccistatic.zoomdev.us/web-sdk",LOG:"https://devlog-gateway.zoomdev.us/nws/join/logger/zccfelog",ZCB_SDK:"https://zcb.zoomdev.us/static/resource/cci"},qa:{ZCC_WEB:"https://qa01ccizp.zoomdev.us",ZCC_API:"https://qa01ccizpapi.zoomdev.us",ZPNS:"wss://zpns.zoomdev.us/ws",WEB:"zoomdev.us",SCHEDULER:"https://scheduler.acqa.zoomdev.us",CAMPAIGN:"https://qa01campaign.zoomdev.us",ZVA_API:"https://qa01apizva.zoomdev.us",SDK:"https://devccistatic.zoomdev.us/web-sdk",LOG:"https://devlog-gateway.zoomdev.us/nws/join/logger/zccfelog",ZCB_SDK:"https://dev-zcb.zoomdev.us/static/resource/cci"},devcolo:{ZCC_WEB:"https://devcoloccizp.zoomdev.us",ZCC_API:"https://devcoloccizpapi.zoomdev.us",ZPNS:"wss://hf01zpns.zoomdev.us/ws",WEB:"https://devcolo.zoomdev.us",SCHEDULER:"https://scheduler.acqa.zoomdev.us",CAMPAIGN:"https://devcolocampaign.zoomdev.us",ZVA_API:"https://devcoloapizva.zoomdev.us",SDK:"https://devcoloccistatic.zoomdev.us/web-sdk",LOG:"https://devlog-gateway.zoomdev.us/nws/join/logger/zccfelog",ZCB_SDK:"https://dev-zcb.zoomdev.us/static/resource/cci"},go:{ZCC_WEB:"https://gocci.zoom.us",ZCC_API:"https://gocciapi.zoom.us",ZPNS:"wss://gozpns.zoom.us/ws",WEB:"go.zoom.us",SCHEDULER:"scheduler.asynccommgo.zoom.us",CAMPAIGN:"https://gocampaign.zoom.us",ZVA_API:"https://goapizva.zoom.us",SDK:"https://goccistatic.zoom.us/gocci/web-sdk",LOG:"https://log-gateway.zoom.us/nws/join/logger/zccfelog",ZCB_SDK:"https://go-zcb.zoom.us/static/resource/cci"},eu01:{ZCC_WEB:"https://eu01cci.zoom.us",ZCC_API:"https://eu01cciapi.zoom.us",ZPNS:"wss://zpns.zoom.us/ws",WEB:"zoom.us",SCHEDULER:"https://scheduler.zoom.us",CAMPAIGN:"https://eu01campaign.zoom.us",ZVA_API:"https://eu01apizva.zoom.us",SDK:"https://eu01ccistatic.zoom.us/eu01cci/web-sdk",LOG:"https://log-gateway.zoom.us/nws/join/logger/zccfelog",ZCB_SDK:"https://go-zcb.zoom.us/static/resource/cci"},sa01:{ZCC_WEB:"https://sa01cci.zoom.us",ZCC_API:"https://sa01cciapi.zoom.us",ZPNS:"wss://sa01zpns.zoom.us/ws",WEB:"zoom.us",SCHEDULER:"https://scheduler.zoom.us",CAMPAIGN:"https://sa01campaign.zoom.us",ZVA_API:"https://sa01apizva.zoom.us",SDK:"https://sa01ccistatic.zoom.us/sa01cci/web-sdk",ZCB_SDK:"https://us01-zcb.zoom.us/static/resource/cci"},us01:{ZCC_WEB:"https://us01cci.zoom.us",ZCC_API:"https://us01cciapi.zoom.us",ZPNS:"wss://zpns.zoom.us/ws",WEB:"zoom.us",SCHEDULER:"https://scheduler.zoom.us",CAMPAIGN:"https://us01campaign.zoom.us",ZVA_API:"https://us01apizva.zoom.us",SDK:"https://us01ccistatic.zoom.us/us01cci/web-sdk",SDK_BACKUP:"https://us01ccistatic-a.zoom.us/us01cci/web-sdk",LOG:"https://log-gateway.zoom.us/nws/join/logger/zccfelog",ZCB_SDK:"https://us01-zcb.zoom.us/static/resource/cci"},govdev:{ZCC_WEB:"https://cci.zoomgovdev.com",ZCC_API:"https://cciapi.zoomgovdev.com",ZPNS:"wss://zpns.zoomgovdev.com/ws",WEB:"zoomgovdev.com",SCHEDULER:"",CAMPAIGN:"https://campaign.zoomgovdev.com",ZVA_API:"https://us01apizva.zoom.us",SDK:"https://ccistatic.zoomgovdev.com/web-sdk",ZCB_SDK:"https://us01-zcb.zoom.us/static/resource/cci"},gov:{ZCC_WEB:"https://cci.zoomgov.com",ZCC_API:"https://cciapi.zoomgov.com",ZPNS:"wss://zpns.zoomgov.com/ws",WEB:"zoomgov.com",SCHEDULER:"",CAMPAIGN:"https://campaign.zoomgov.com",ZVA_API:"https://us01apizva.zoom.us",SDK:"https://ccistatic.zoomgov.com/web-sdk",ZCB_SDK:"https://us01-zcb.zoom.us/static/resource/cci"}}).map(([e,t])=>{const r={CCIZP:`${t.ZCC_WEB}/`,CCIZPAPI:`${t.ZCC_API}/`,ZPNS:t.ZPNS,WEB_ENDPOINT:t.WEB,SCHEDULER:t.SCHEDULER,CAMPAIGN:`${t.CAMPAIGN}/`,ZVA:`${t.ZVA_API}/`,CDN:`${t.SDK}/`,LOG:t.LOG,ZCB:`${t.ZCB_SDK}/`,CDN_BACKUP:t.SDK_BACKUP?`${t.SDK_BACKUP}/`:void 0};return[e,Object.fromEntries(Object.entries(r).filter(([o,n])=>n!==void 0))]})),ko=Object.fromEntries(Object.entries(de).map(([e,t])=>[e,t.CAMPAIGN]));function Jt(e){return Object.keys(de).includes(e??"")?e:"us01"}const Do=Object.fromEntries(Object.entries(de).map(([e,t])=>[e,t.ZVA])),Xt=new URLSearchParams(window.location.search).get("__zcc_version__")||"6830",Io=Symbol.for("__ZCC_LIVESDK_CDN_ENV__"),Qt=Te().COMMON_CDN_ENV,er=Te().COMMON_CUSTOM_CDN,je=Object.fromEntries(Object.entries(de).map(([e,t])=>[e,t.CDN])),oe=er?Object.fromEntries(Object.keys(je).map(e=>[e,er])):Qt?Object.fromEntries(Object.keys(je).map(e=>[e,je[Qt]])):je,Be=Object.fromEntries(Object.entries(de).map(([e,t])=>[e,t.CDN_BACKUP]));function zo(e="us01"){const{CCIZP:t,CCIZPAPI:r,ZPNS:o,WEB_ENDPOINT:n}=de[e],s=Object.entries({CCIZP:t,CCIZPAPI:r,ZPNS:o,WEB_ENDPOINT:n}).map(([i,c])=>[i.toLowerCase(),c]);return Object.fromEntries(s)}const Ao="__livesdk__header__data__";function To(){try{return JSON.parse(localStorage.getItem(Ao)??"")}catch{return{}}}function Ro(){try{const e=new URLSearchParams(window.location.search),t={};return e.get("zcid")&&(t.clusterId=e.get("zcid")),e.get("aid")&&(t.aid=e.get("aid")),e.get("haid")&&(t.haid=e.get("haid")),t}catch{return{}}}function No(){const e=Object.assign(To(),Ro()),t={};return e!=null&&e.aid&&(t["X-Zm-Aid"]=e.aid),e!=null&&e.haid&&(t["X-Zm-Haid"]=e.haid),e!=null&&e.clusterId&&(t["X-Zm-Client-Cluster-Id"]=e.clusterId),t}/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tr=Symbol("Comlink.proxy"),jo=Symbol("Comlink.endpoint"),Bo=Symbol("Comlink.releaseProxy"),it=Symbol("Comlink.finalizer"),Ze=Symbol("Comlink.thrown"),rr=e=>typeof e=="object"&&e!==null||typeof e=="function",Zo={canHandle:e=>rr(e)&&e[tr],serialize(e){const{port1:t,port2:r}=new MessageChannel;return nr(e,t),[r,[r]]},deserialize(e){return e.start(),ir(e)}},Uo={canHandle:e=>rr(e)&&Ze in e,serialize({value:e}){let t;return e instanceof Error?t={isError:!0,value:{message:e.message,name:e.name,stack:e.stack}}:t={isError:!1,value:e},[t,[]]},deserialize(e){throw e.isError?Object.assign(new Error(e.value.message),e.value):e.value}},or=new Map([["proxy",Zo],["throw",Uo]]);function xo(e,t){for(const r of e)if(t===r||r==="*"||r instanceof RegExp&&r.test(t))return!0;return!1}function nr(e,t=globalThis,r=["*"]){t.addEventListener("message",function o(n){if(!n||!n.data)return;if(!xo(r,n.origin)){console.warn(`Invalid origin '${n.origin}' for comlink proxy`);return}const{id:s,type:i,path:c}=Object.assign({path:[]},n.data),d=(n.data.argumentList||[]).map(fe);let u;try{const l=c.slice(0,-1).reduce((h,f)=>{const m=""+f;if(m.includes("__proto__")||m.includes("constructor")||m.includes("prototype"))throw new Error("Invalid path");return h[f]},e),a=c.reduce((h,f)=>{const m=""+f;if(m.includes("__proto__")||m.includes("constructor")||m.includes("prototype"))throw new Error("Invalid path");return h[f]},e);switch(i){case"GET":u=a;break;case"SET":l[c.slice(-1)[0]]=fe(n.data.value),u=!0;break;case"APPLY":u=a.apply(l,d);break;case"CONSTRUCT":{const h=new a(...d);u=Ho(h)}break;case"ENDPOINT":{const{port1:h,port2:f}=new MessageChannel;nr(e,f),u=Ko(h,[h])}break;case"RELEASE":u=void 0;break;default:return}}catch(l){u={value:l,[Ze]:0}}Promise.resolve(u).catch(l=>({value:l,[Ze]:0})).then(l=>{const[a,h]=We(l);t.postMessage(Object.assign(Object.assign({},a),{id:s}),h),i==="RELEASE"&&(t.removeEventListener("message",o),sr(t),it in e&&typeof e[it]=="function"&&e[it]())}).catch(l=>{const[a,h]=We({value:new TypeError("Unserializable return value"),[Ze]:0});t.postMessage(Object.assign(Object.assign({},a),{id:s}),h)})}),t.start&&t.start()}function Vo(e){return e.constructor.name==="MessagePort"}function sr(e){Vo(e)&&e.close()}function ir(e,t){return at(e,[],t)}function Ue(e){if(e)throw new Error("Proxy has been released and is not useable")}function ar(e){return ye(e,{type:"RELEASE"}).then(()=>{sr(e)})}const xe=new WeakMap,Ve="FinalizationRegistry"in globalThis&&new FinalizationRegistry(e=>{const t=(xe.get(e)||0)-1;xe.set(e,t),t===0&&ar(e)});function Wo(e,t){const r=(xe.get(t)||0)+1;xe.set(t,r),Ve&&Ve.register(e,t,e)}function Fo(e){Ve&&Ve.unregister(e)}function at(e,t=[],r=function(){}){let o=!1;const n=new Proxy(r,{get(s,i){if(Ue(o),i===Bo)return()=>{Fo(n),ar(e),o=!0};if(i==="then"){if(t.length===0)return{then:()=>n};const c=ye(e,{type:"GET",path:t.map(d=>d.toString())}).then(fe);return c.then.bind(c)}return at(e,[...t,i])},set(s,i,c){Ue(o);const[d,u]=We(c);return ye(e,{type:"SET",path:[...t,i].map(l=>l.toString()),value:d},u).then(fe)},apply(s,i,c){Ue(o);const d=t[t.length-1];if(d===jo)return ye(e,{type:"ENDPOINT"}).then(fe);if(d==="bind")return at(e,t.slice(0,-1));const[u,l]=cr(c);return ye(e,{type:"APPLY",path:t.map(a=>a.toString()),argumentList:u},l).then(fe)},construct(s,i){Ue(o);const[c,d]=cr(i);return ye(e,{type:"CONSTRUCT",path:t.map(u=>u.toString()),argumentList:c},d).then(fe)}});return Wo(n,e),n}function Go(e){return Array.prototype.concat.apply([],e)}function cr(e){const t=e.map(We);return[t.map(r=>r[0]),Go(t.map(r=>r[1]))]}const lr=new WeakMap;function Ko(e,t){return lr.set(e,t),e}function Ho(e){return Object.assign(e,{[tr]:!0})}function Yo(e,t=globalThis,r="*"){return{postMessage:(o,n)=>e.postMessage(o,r,n),addEventListener:t.addEventListener.bind(t),removeEventListener:t.removeEventListener.bind(t)}}function We(e){for(const[t,r]of or)if(r.canHandle(e)){const[o,n]=r.serialize(e);return[{type:"HANDLER",name:t,value:o},n]}return[{type:"RAW",value:e},lr.get(e)||[]]}function fe(e){switch(e.type){case"HANDLER":return or.get(e.name).deserialize(e.value);case"RAW":return e.value}}function ye(e,t,r){return new Promise(o=>{const n=qo();e.addEventListener("message",function s(i){!i.data||!i.data.id||i.data.id!==n||(e.removeEventListener("message",s),o(i.data))}),e.start&&e.start(),e.postMessage(Object.assign({id:n},t),r)})}function qo(){return new Array(4).fill(0).map(()=>Math.floor(Math.random()*Number.MAX_SAFE_INTEGER).toString(16)).join("-")}let Jo=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,r)=>(r&=63,r<36?t+=r.toString(36):r<62?t+=(r-26).toString(36).toUpperCase():r>62?t+="-":t+="_",t),"");const ur=Symbol.for("livesdk_tid"),he=Symbol.for("livesdk_is_timeout"),Fe=Symbol.for("livesdk_iframe_store"),Xo=(e,t)=>{try{const r={};if(performance&&performance.getEntriesByName){const n=performance.getEntriesByType("resource").find(s=>s.name===e);if(n){r.xhrDnsTime=(n==null?void 0:n.domainLookupEnd)-(n==null?void 0:n.domainLookupStart),r.xhrTcpTime=(n==null?void 0:n.connectEnd)-(n==null?void 0:n.connectStart),r.xhrQueueTimeChrome=(n==null?void 0:n.requestStart)-(n==null?void 0:n.fetchStart);const s=new Date().getTime()-t;r.xhrQueueTimeSafari=s-(n==null?void 0:n.duration),r.xhrNetworkTime=(n==null?void 0:n.responseStart)-(n==null?void 0:n.requestStart),r.xhrDonwloadTime=(n==null?void 0:n.responseEnd)-(n==null?void 0:n.responseStart),r.message=n==null?void 0:n.toJSON()}}return r}catch{return{}}};function Qo(e){try{return new URL(e).hostname===window.location.hostname}catch{return!1}}const ct=(e,t,r,o)=>{var n;(n=window==null?void 0:window.__ZCC__LIVECHAT__MONITOR__)==null||n.Monitor({name:r,message:{time:Xo(e,t),error:(o==null?void 0:o.message)||o}},{isErrorMsg:!0},"server")};async function en(e,t=Date.now()){if(!Qo(e)&&!window[Fe]){window[he]||(window[he]="null"),console.log("Init iframe start"),window[ur]=Jo();const r=await ao();window[Fe]=new Promise((o,n)=>{const s=document.createElement("iframe");s.src=e,s.style.display="none",s.sandbox.add("allow-scripts"),s.sandbox.add("allow-same-origin"),r.appendChild(s),s.onload=()=>{console.log("Init iframe onload"),window[he]==="null"?window[he]="false":window[he]==="true"&&ct(e,t,"Iframe Load Timeout: when onload, report performance"),o(s)},s.onerror=i=>{ct(e,t,"Iframe Load OnError: downgrade to non-cross storage mode",i),n(i)},setTimeout(()=>{window[he]==="null"&&(window[he]="true",ct(e,t,"Iframe Load TimeOut: when timeout, setTimeout 25s")),n()},25e3)}),await window[Fe]}}const tn="zoomsdkcorsstabsync:req",dr="zoomsdkcorsstabsync:res";if(!((xr=window.ZOOM_SUPPORT_CROSS_TAB_FLAGS)!=null&&xr.disabled)){let e;addEventListener("message",async t=>{var r;try{const o=new URL(t.origin).hostname;if(io(o)&&t.origin!==window.origin&&((r=t.data)==null?void 0:r.type)===tn){const{key:n,namespace:s}=t.data,i=await window[Fe];if(!i.contentWindow){t.source.postMessage({type:dr,key:n,value:null},{targetOrigin:t.origin});return}e||(e=ir(Yo(i.contentWindow)));const c=await e.getItem({tid:window[ur],namespace:s,key:n});t.source.postMessage({type:dr,key:n,value:c},{targetOrigin:t.origin})}}catch{}})}function Se(e){return{name:e}}const fr=Ne("Common/LoadSdkPlugin").impl(e=>{const t=new Map,r=e().logger;return{importSdk:async(n,s)=>{try{const i=t.get(n);if(!i)throw r.error(`No loader for ${n.name}`),new Error(`No loader for ${n.name}`);return r.info(`Loading ${n.name}`),await i.load(s)}catch(i){return r.error(`Failed to load ${n.name}`,i),Promise.reject(i)}},useSdkLoader(n,s){t.set(n,s)}}});function lt(e){if(e===null||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);return t!==null&&t!==Object.prototype&&Object.getPrototypeOf(t)!==null||Symbol.iterator in e?!1:Symbol.toStringTag in e?Object.prototype.toString.call(e)==="[object Module]":!0}function ut(e,t,r=".",o){if(!lt(t))return ut(e,{},r,o);const n=Object.assign({},t);for(const s in e){if(s==="__proto__"||s==="constructor")continue;const i=e[s];i!=null&&(o&&o(n,s,i,r)||(Array.isArray(i)&&Array.isArray(n[s])?n[s]=[...i,...n[s]]:lt(i)&&lt(n[s])?n[s]=ut(i,n[s],(r?`${r}.`:"")+s.toString(),o):n[s]=i))}return n}function rn(e){return(...t)=>t.reduce((r,o)=>ut(r,o,"",e),{})}const on=rn();function nn(e,t,r){const o=r==null?void 0:r.merge,n=Reflect.get(window,e);if(o&&n){const s=t();if(typeof s=="object"&&typeof n=="object"){const i=on(n,s);for(const c of Object.keys(i))Reflect.set(n,c,Reflect.get(i,c))}}else n||Reflect.set(window,e,t());return Reflect.get(window,e)}function Pe(e,t,r){return nn(`ZoomWebSDKDef__${e}`,t,r)}function I(...e){const t=[sn(),...e];return dt(...t)}function dt(...e){const t=()=>{for(const o of e)if(typeof o=="function"){const n=o();if(n!==null)return n}else if(o instanceof hr){const n=o.read();if(n!==null)return n}else if(o!=null)return o;return null},r=o=>{for(const n of e)if(n instanceof ft){n.write(o);return}};return new ft(t,r)}function sn(){let e=null;const t=()=>e,r=o=>{e=o};return new ft(t,r)}class hr{constructor(t){this.read=t}}class ft extends hr{constructor(t,r){super(t),this.write=r}}function j(...e){if(e.length===0)return null;let t=null;for(const r of e)if(t===null)t=r;else if(typeof t=="object"&&Reflect.has(t,r))t=Reflect.get(t,r);else return null;return t}function T(e,t,r){const n=new URL(e).searchParams.get(t);return r?r(n):n}function q(e){for(const t of e.selectors){const r=document.querySelector(t);if(r)return j(r,...e.path)}return null}const H=Symbol.for("LIVESDK_GLOBAL_ENV"),ie="script[data-apikey][data-chat-entry-id]",te='script:not([data-apikey])[src$="zcc-sdk.js"][data-chat-entry-id], script:not([data-apikey])[src$="chat-client.js"][data-chat-entry-id], script[data-apikey][src$="chat-client.js"]:not([data-chat-entry-id]), script[data-apikey][src$="zcc-sdk.js"]:not([data-chat-entry-id]), script[src$="chat-client.js"]:not([data-chat-entry-id]), script[src$="zcc-sdk.js"]:not([data-chat-entry-id])',Ge='script[data-apikey][src*=".zoom"]:not([data-chat-entry-id]):not([src$="chat-client.js"]):not([src$="zcc-sdk.js"]), script[data-entry-id][src*=".zoom"]';function ve(e){return e===null?null:e==="true"||e===""}const an=I(null,()=>T(window.location.href,"__IS_DEBUG__",ve),()=>j(window,"__ZCX_LIVESDK_DEBUG__"),()=>j(window,H,"COMMON_DEBUG"),!1);function Z(e){return()=>an.read()?e():null}function X(...e){return j(window,"zoomCampaignSdkConfig",...e)}const A=Pe("GlobalConfigs",()=>({enableLog:I(Z(()=>!0),()=>T(window.location.href,"enableLivesdkLog",ve),()=>j(window,H,"COMMON_ENABLE_LOG"),!1),enableReportChatLogOP:I(()=>localStorage.getItem("OP/LiveSDK/enableLogReport")==="true",!1),enableReportChatLogFrontEnd:I(()=>T(window.location.href,"enableReportChatLog")==="true"?!0:T(window.location.href,"enableReportChatLog")==="false"?!1:null,()=>X("enableReportChatLog")===!0?!0:X("enableReportChatLog")===!1?!1:null,null),cdnEnv:I(Z(()=>T(window.location.href,"cdnEnv")),()=>j(window,H,"COMMON_CDN_ENV"),"us01"),frontendConfig:I(()=>({})),enableZcb:I(()=>T(window.location.href,"enableZcb",ve),()=>X("enableZcb"),()=>j(window,H,"COMMON_ENABLE_ZCB"),()=>q({selectors:[ie,te,Ge],path:["dataset","enableZcb"]}),()=>q({selectors:[ie,te,Ge],path:["dataset","enableZCB"]}),!1),cdnVersion:I(Z(()=>T(window.location.href,"cdnVersion")),()=>j(window,H,"COMMON_CDN_VERSION")),queryBuildNumber:I(()=>T(window.location.href,"__zcc_version__")),cdnZccVersion:I(Z(()=>T(window.location.href,"cdnZccVersion")),()=>j(window,H,"COMMON_CDN_VERSION")),cdnZvaVersion:I(Z(()=>T(window.location.href,"cdnZvaVersion")),()=>j(window,H,"COMMON_CDN_ZVA_VERSION")),isZvaMode:I(()=>j(window,H,"isZvaMode")),legacyLogReporter:I(()=>j(window,H,"COMMON_LOG_HANDLER")),refreshTokenWhenExpiredIn:I(Z(()=>T(window.location.href,"refreshTokenWhenExpiredIn",Number)),()=>j(window,H,"COMMON_REFRESH_TOKEN_WHEN_EXPIRED_IN")),customCdn:I(Z(()=>T(window.location.href,"customCdn")),()=>j(window,H,"COMMON_CUSTOM_CDN")),env:I(Z(()=>T(window.location.href,"env")),()=>X("env"),()=>j(window,H,"COMMON_ENV"),()=>q({selectors:[ie,te,Ge],path:["dataset","env"]}),"us01"),getAuthCredentials:I(()=>j(window,"zoomCampaignSdkConfig","getAuthCredentials")),getCustomerFreshToken:I(()=>j(window,"zoomCampaignSdkConfig","getFreshToken")),getCustomerFreshToken2:I(()=>j(window,"zoomCampaignSdkConfig","getFreshToken")),i18nCdnJson:I(()=>j(window,H,"i18nCdnJson")),getPreviewModeCampaignData:I(j("getPreviewModeCampaignData")),getUserLoginData:I(()=>j(window,"zoomCampaignSdkConfig","getUserLoginData")),getGateway:I(j("getGateway"))}),{merge:!0}),be=Pe("GlobalChatConfigs",()=>({...A,lazyLoadCampaign:I(Z(()=>T(window.location.href,"lazyLoadCampaignUrl")),()=>X("lazyLoadCampaignUrl"),()=>j(window,H,"COMMON_LAZY_LOAD_CAMPAIGN"),()=>q({selectors:[te],path:["dataset","lazyLoadCampaignUrl"]})),productModule:I(Z(()=>T(window.location.href,"productModule")),()=>q({selectors:[ie],path:["dataset","productModule"]})),zvaSubFlowId:I(()=>T(window.location.href,"zvaSubFlowId")),chatEntryId:I(Z(()=>T(window.location.href,"key")),()=>q({selectors:[ie,te],path:["dataset","chatEntryId"]})),videoEntryId:I(Z(()=>T(window.location.href,"key")),()=>q({selectors:[Ge,te],path:["dataset","entryId"]})),apikey:I(Z(()=>T(window.location.href,"apikey")),()=>X("apikey"),()=>q({selectors:[ie,te],path:["dataset","apikey"]})),zIndexBase:I(Z(()=>T(window.location.href,"zIndexBase",Number)),()=>X("zIndexBase"),()=>q({selectors:[ie,te],path:["dataset","zIndexBase"],cast:Number})),draggableInvitation:I(Z(()=>T(window.location.href,"draggableInvitation",ve)),()=>X("draggableInvitation"),()=>q({selectors:[ie,te],path:["dataset","draggableInvitation"],cast:Boolean})),windowPosition:I(Z(()=>T(window.location.href,"windowPosition")),()=>X("windowPosition"),()=>q({selectors:[te],path:["dataset","windowPosition"]})),el:I(Z(()=>T(window.location.href,"el")),()=>q({selectors:[ie],path:["dataset","el"]})),fullScreenId:I(()=>T(window.location.href,"fullScreenId"),()=>X("fullScreenId"),()=>q({selectors:[te],path:["dataset","fullScreenId"]}))}));dt(Z(()=>T(window.location.href,"enableSPAMode",ve)),()=>X("enableSPAMode"),!1);const mr=Pe("LiveInfoStore",()=>({engagementId:I(),chatSessionId:I(),zpnsResource:I()})),cn=Pe("LiveTrackStore",()=>({backendTraceIds:I()})),Ke=Pe("LivePerformanceStore",()=>({resourcePerf:I(),customerPerf:I()})),He=e=>{const t=e.reduce((n,s)=>({...n,...s}),{}),r=["i18nCdnJson","getPreviewModeCampaignData"],o=Object.entries(t).reduce((n,[s,i])=>({...n,[s]:i.read()}),{});return r.forEach(n=>{o[n]&&delete o[n]}),o};dt(Z(()=>T(window.location.href,"enableWriteSupportHandoffCookie",ve)),()=>X("enableWriteSupportHandoffCookie"),()=>localStorage.getItem("zva_support_handoff:enableWriteSupportHandoffCookie")==="true",!1);const G={silent:Number.NEGATIVE_INFINITY,fatal:0,error:0,warn:1,log:2,info:3,success:3,fail:3,ready:3,start:3,box:3,debug:4,trace:5,verbose:Number.POSITIVE_INFINITY},gr={silent:{level:-1},fatal:{level:G.fatal},error:{level:G.error},warn:{level:G.warn},log:{level:G.log},info:{level:G.info},success:{level:G.success},fail:{level:G.fail},ready:{level:G.info},start:{level:G.info},box:{level:G.info},debug:{level:G.debug},trace:{level:G.trace},verbose:{level:G.verbose}};function ht(e){return e!==null&&typeof e=="object"}function mt(e,t,r=".",o){if(!ht(t))return mt(e,{},r);const n=Object.assign({},t);for(const s in e){if(s==="__proto__"||s==="constructor")continue;const i=e[s];i!=null&&(Array.isArray(i)&&Array.isArray(n[s])?n[s]=[...i,...n[s]]:ht(i)&&ht(n[s])?n[s]=mt(i,n[s],(r?`${r}.`:"")+s.toString()):n[s]=i)}return n}function ln(e){return(...t)=>t.reduce((r,o)=>mt(r,o,""),{})}const un=ln();function dn(e){return Object.prototype.toString.call(e)==="[object Object]"}function fn(e){return!(!dn(e)||!e.message&&!e.args||e.stack)}let gt=!1;const pr=[];class V{constructor(t={}){const r=t.types||gr;this.options=un({...t,defaults:{...t.defaults},level:pt(t.level,r),reporters:[...t.reporters||[]]},{types:gr,throttle:1e3,throttleMin:5,formatOptions:{date:!0,colors:!1,compact:!0}});for(const o in r){const n={type:o,...this.options.defaults,...r[o]};this[o]=this._wrapLogFn(n),this[o].raw=this._wrapLogFn(n,!0)}this.options.mockFn&&this.mockTypes(),this._lastLog={}}get level(){return this.options.level}set level(t){this.options.level=pt(t,this.options.types,this.options.level)}prompt(t,r){if(!this.options.prompt)throw new Error("prompt is not supported!");return this.options.prompt(t,r)}create(t){const r=new V({...this.options,...t});return this._mockFn&&r.mockTypes(this._mockFn),r}withDefaults(t){return this.create({...this.options,defaults:{...this.options.defaults,...t}})}withTag(t){return this.withDefaults({tag:this.options.defaults.tag?this.options.defaults.tag+":"+t:t})}addReporter(t){return this.options.reporters.push(t),this}removeReporter(t){if(t){const r=this.options.reporters.indexOf(t);if(r>=0)return this.options.reporters.splice(r,1)}else this.options.reporters.splice(0);return this}setReporters(t){return this.options.reporters=Array.isArray(t)?t:[t],this}wrapAll(){this.wrapConsole(),this.wrapStd()}restoreAll(){this.restoreConsole(),this.restoreStd()}wrapConsole(){for(const t in this.options.types)console["__"+t]||(console["__"+t]=console[t]),console[t]=this[t].raw}restoreConsole(){for(const t in this.options.types)console["__"+t]&&(console[t]=console["__"+t],delete console["__"+t])}wrapStd(){this._wrapStream(this.options.stdout,"log"),this._wrapStream(this.options.stderr,"log")}_wrapStream(t,r){t&&(t.__write||(t.__write=t.write),t.write=o=>{this[r].raw(String(o).trim())})}restoreStd(){this._restoreStream(this.options.stdout),this._restoreStream(this.options.stderr)}_restoreStream(t){t&&t.__write&&(t.write=t.__write,delete t.__write)}pauseLogs(){gt=!0}resumeLogs(){gt=!1;const t=pr.splice(0);for(const r of t)r[0]._logFn(r[1],r[2])}mockTypes(t){const r=t||this.options.mockFn;if(this._mockFn=r,typeof r=="function")for(const o in this.options.types)this[o]=r(o,this.options.types[o])||this[o],this[o].raw=this[o]}_wrapLogFn(t,r){return(...o)=>{if(gt){pr.push([this,t,o,r]);return}return this._logFn(t,o,r)}}_logFn(t,r,o){if((t.level||0)>this.level)return!1;const n={date:new Date,args:[],...t,level:pt(t.level,this.options.types)};!o&&r.length===1&&fn(r[0])?Object.assign(n,r[0]):n.args=[...r],n.message&&(n.args.unshift(n.message),delete n.message),n.additional&&(Array.isArray(n.additional)||(n.additional=n.additional.split(`
`)),n.args.push(`
`+n.additional.join(`
`)),delete n.additional),n.type=typeof n.type=="string"?n.type.toLowerCase():"log",n.tag=typeof n.tag=="string"?n.tag:"";const s=(c=!1)=>{const d=(this._lastLog.count||0)-this.options.throttleMin;if(this._lastLog.object&&d>0){const u=[...this._lastLog.object.args];d>1&&u.push(`(repeated ${d} times)`),this._log({...this._lastLog.object,args:u}),this._lastLog.count=1}c&&(this._lastLog.object=n,this._log(n))};clearTimeout(this._lastLog.timeout);const i=this._lastLog.time&&n.date?n.date.getTime()-this._lastLog.time.getTime():0;if(this._lastLog.time=n.date,i<this.options.throttle)try{const c=JSON.stringify([n.type,n.tag,n.args]),d=this._lastLog.serialized===c;if(this._lastLog.serialized=c,d&&(this._lastLog.count=(this._lastLog.count||0)+1,this._lastLog.count>this.options.throttleMin)){this._lastLog.timeout=setTimeout(s,this.options.throttle);return}}catch{}s(!0)}_log(t){for(const r of this.options.reporters)r.log(t,{options:this.options})}}function pt(e,t={},r=3){return e===void 0?r:typeof e=="number"?e:t[e]&&t[e].level!==void 0?t[e].level:r}V.prototype.add=V.prototype.addReporter,V.prototype.remove=V.prototype.removeReporter,V.prototype.clear=V.prototype.removeReporter,V.prototype.withScope=V.prototype.withTag,V.prototype.mock=V.prototype.mockTypes,V.prototype.pause=V.prototype.pauseLogs,V.prototype.resume=V.prototype.resumeLogs;function hn(e={}){return new V(e)}class mn{constructor(t){this.options={...t},this.defaultColor="#7f8c8d",this.levelColorMap={0:"#c0392b",1:"#f39c12",3:"#00BCD4"},this.typeColorMap={success:"#2ecc71"}}_getLogFn(t){return t<1?console.__error||console.error:t===1?console.__warn||console.warn:console.__log||console.log}log(t){const r=this._getLogFn(t.level),o=t.type==="log"?"":t.type,n=t.tag||"",i=`
      background: ${this.typeColorMap[t.type]||this.levelColorMap[t.level]||this.defaultColor};
      border-radius: 0.5em;
      color: white;
      font-weight: bold;
      padding: 2px 0.5em;
    `,c=`%c${[n,o].filter(Boolean).join(":")}`;typeof t.args[0]=="string"?r(`${c}%c ${t.args[0]}`,i,"",...t.args.slice(1)):r(c,i,...t.args)}}function wt(e={}){return hn({reporters:e.reporters||[new mn({})],prompt(r,o={}){return o.type==="confirm"?Promise.resolve(confirm(r)):Promise.resolve(prompt(r))},...e})}wt();const yt=10,wr=(e=0)=>t=>`\x1B[${t+e}m`,yr=(e=0)=>t=>`\x1B[${38+e};5;${t}m`,Sr=(e=0)=>(t,r,o)=>`\x1B[${38+e};2;${t};${r};${o}m`,N={modifier:{reset:[0,0],bold:[1,22],dim:[2,22],italic:[3,23],underline:[4,24],overline:[53,55],inverse:[7,27],hidden:[8,28],strikethrough:[9,29]},color:{black:[30,39],red:[31,39],green:[32,39],yellow:[33,39],blue:[34,39],magenta:[35,39],cyan:[36,39],white:[37,39],blackBright:[90,39],gray:[90,39],grey:[90,39],redBright:[91,39],greenBright:[92,39],yellowBright:[93,39],blueBright:[94,39],magentaBright:[95,39],cyanBright:[96,39],whiteBright:[97,39]},bgColor:{bgBlack:[40,49],bgRed:[41,49],bgGreen:[42,49],bgYellow:[43,49],bgBlue:[44,49],bgMagenta:[45,49],bgCyan:[46,49],bgWhite:[47,49],bgBlackBright:[100,49],bgGray:[100,49],bgGrey:[100,49],bgRedBright:[101,49],bgGreenBright:[102,49],bgYellowBright:[103,49],bgBlueBright:[104,49],bgMagentaBright:[105,49],bgCyanBright:[106,49],bgWhiteBright:[107,49]}};Object.keys(N.modifier);const gn=Object.keys(N.color),pn=Object.keys(N.bgColor);[...gn,...pn];function wn(){const e=new Map;for(const[t,r]of Object.entries(N)){for(const[o,n]of Object.entries(r))N[o]={open:`\x1B[${n[0]}m`,close:`\x1B[${n[1]}m`},r[o]=N[o],e.set(n[0],n[1]);Object.defineProperty(N,t,{value:r,enumerable:!1})}return Object.defineProperty(N,"codes",{value:e,enumerable:!1}),N.color.close="\x1B[39m",N.bgColor.close="\x1B[49m",N.color.ansi=wr(),N.color.ansi256=yr(),N.color.ansi16m=Sr(),N.bgColor.ansi=wr(yt),N.bgColor.ansi256=yr(yt),N.bgColor.ansi16m=Sr(yt),Object.defineProperties(N,{rgbToAnsi256:{value(t,r,o){return t===r&&r===o?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(r/255*5)+Math.round(o/255*5)},enumerable:!1},hexToRgb:{value(t){const r=/[a-f\d]{6}|[a-f\d]{3}/i.exec(t.toString(16));if(!r)return[0,0,0];let[o]=r;o.length===3&&(o=[...o].map(s=>s+s).join(""));const n=Number.parseInt(o,16);return[n>>16&255,n>>8&255,n&255]},enumerable:!1},hexToAnsi256:{value:t=>N.rgbToAnsi256(...N.hexToRgb(t)),enumerable:!1},ansi256ToAnsi:{value(t){if(t<8)return 30+t;if(t<16)return 90+(t-8);let r,o,n;if(t>=232)r=((t-232)*10+8)/255,o=r,n=r;else{t-=16;const c=t%36;r=Math.floor(t/36)/5,o=Math.floor(c/6)/5,n=c%6/5}const s=Math.max(r,o,n)*2;if(s===0)return 30;let i=30+(Math.round(n)<<2|Math.round(o)<<1|Math.round(r));return s===2&&(i+=60),i},enumerable:!1},rgbToAnsi:{value:(t,r,o)=>N.ansi256ToAnsi(N.rgbToAnsi256(t,r,o)),enumerable:!1},hexToAnsi:{value:t=>N.ansi256ToAnsi(N.hexToAnsi256(t)),enumerable:!1}}),N}const ne=wn(),Ye=(()=>{if(navigator.userAgentData){const e=navigator.userAgentData.brands.find(({brand:t})=>t==="Chromium");if(e&&e.version>93)return 3}return/\b(Chrome|Chromium)\//.test(navigator.userAgent)?1:0})(),vr=Ye!==0&&{level:Ye,hasBasic:!0,has256:Ye>=2,has16m:Ye>=3},yn={stdout:vr,stderr:vr};function Sn(e,t,r){let o=e.indexOf(t);if(o===-1)return e;const n=t.length;let s=0,i="";do i+=e.slice(s,o)+t+r,s=o+n,o=e.indexOf(t,s);while(o!==-1);return i+=e.slice(s),i}function vn(e,t,r,o){let n=0,s="";do{const i=e[o-1]==="\r";s+=e.slice(n,i?o-1:o)+t+(i?`\r
`:`
`)+r,n=o+1,o=e.indexOf(`
`,n)}while(o!==-1);return s+=e.slice(n),s}const{stdout:br,stderr:_r}=yn,St=Symbol("GENERATOR"),_e=Symbol("STYLER"),Oe=Symbol("IS_EMPTY"),Cr=["ansi","ansi","ansi256","ansi16m"],Ce=Object.create(null),bn=(e,t={})=>{if(t.level&&!(Number.isInteger(t.level)&&t.level>=0&&t.level<=3))throw new Error("The `level` option should be an integer from 0 to 3");const r=br?br.level:0;e.level=t.level===void 0?r:t.level},_n=e=>{const t=(...r)=>r.join(" ");return bn(t,e),Object.setPrototypeOf(t,Me.prototype),t};function Me(e){return _n(e)}Object.setPrototypeOf(Me.prototype,Function.prototype);for(const[e,t]of Object.entries(ne))Ce[e]={get(){const r=qe(this,bt(t.open,t.close,this[_e]),this[Oe]);return Object.defineProperty(this,e,{value:r}),r}};Ce.visible={get(){const e=qe(this,this[_e],!0);return Object.defineProperty(this,"visible",{value:e}),e}};const vt=(e,t,r,...o)=>e==="rgb"?t==="ansi16m"?ne[r].ansi16m(...o):t==="ansi256"?ne[r].ansi256(ne.rgbToAnsi256(...o)):ne[r].ansi(ne.rgbToAnsi(...o)):e==="hex"?vt("rgb",t,r,...ne.hexToRgb(...o)):ne[r][e](...o),Cn=["rgb","hex","ansi256"];for(const e of Cn){Ce[e]={get(){const{level:r}=this;return function(...o){const n=bt(vt(e,Cr[r],"color",...o),ne.color.close,this[_e]);return qe(this,n,this[Oe])}}};const t="bg"+e[0].toUpperCase()+e.slice(1);Ce[t]={get(){const{level:r}=this;return function(...o){const n=bt(vt(e,Cr[r],"bgColor",...o),ne.bgColor.close,this[_e]);return qe(this,n,this[Oe])}}}}const En=Object.defineProperties(()=>{},{...Ce,level:{enumerable:!0,get(){return this[St].level},set(e){this[St].level=e}}}),bt=(e,t,r)=>{let o,n;return r===void 0?(o=e,n=t):(o=r.openAll+e,n=t+r.closeAll),{open:e,close:t,openAll:o,closeAll:n,parent:r}},qe=(e,t,r)=>{const o=(...n)=>Pn(o,n.length===1?""+n[0]:n.join(" "));return Object.setPrototypeOf(o,En),o[St]=e,o[_e]=t,o[Oe]=r,o},Pn=(e,t)=>{if(e.level<=0||!t)return e[Oe]?"":t;let r=e[_e];if(r===void 0)return t;const{openAll:o,closeAll:n}=r;if(t.includes("\x1B"))for(;r!==void 0;)t=Sn(t,r.close,r.open),r=r.parent;const s=t.indexOf(`
`);return s!==-1&&(t=vn(t,n,o,s)),o+t+n};Object.defineProperties(Me.prototype,Ce);const Er=Me();Me({level:_r?_r.level:0});function On(e,t){return t={exports:{}},e(t,t.exports),t.exports}On(function(e,t){(function(r){var o;if(e.exports=r(),o=!0,!o){var n=window.Cookies,s=window.Cookies=r();s.noConflict=function(){return window.Cookies=n,s}}})(function(){function r(){for(var s=0,i={};s<arguments.length;s++){var c=arguments[s];for(var d in c)i[d]=c[d]}return i}function o(s){return s.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function n(s){function i(){}function c(u,l,a){if(!(typeof document>"u")){a=r({path:"/"},i.defaults,a),typeof a.expires=="number"&&(a.expires=new Date(new Date*1+a.expires*864e5)),a.expires=a.expires?a.expires.toUTCString():"";try{var h=JSON.stringify(l);/^[\{\[]/.test(h)&&(l=h)}catch{}l=s.write?s.write(l,u):encodeURIComponent(String(l)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),u=encodeURIComponent(String(u)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var f="";for(var m in a)a[m]&&(f+="; "+m,a[m]!==!0&&(f+="="+a[m].split(";")[0]));return document.cookie=u+"="+l+f}}function d(u,l){if(!(typeof document>"u")){for(var a={},h=document.cookie?document.cookie.split("; "):[],f=0;f<h.length;f++){var m=h[f].split("="),v=m.slice(1).join("=");!l&&v.charAt(0)==='"'&&(v=v.slice(1,-1));try{var b=o(m[0]);if(v=(s.read||s)(v,b)||o(v),l)try{v=JSON.parse(v)}catch{}if(a[b]=v,u===b)break}catch{}}return u?a[u]:a}}return i.set=c,i.get=function(u){return d(u,!1)},i.getJSON=function(u){return d(u,!0)},i.remove=function(u,l){c(u,"",r(l,{expires:-1}))},i.defaults={},i.withConverter=n,i}return n(function(){})})});var Pr;(function(e){e[e.GlobalError=0]="GlobalError",e[e.UnhandledRejection=1]="UnhandledRejection",e[e.CdnDetectError=2]="CdnDetectError"})(Pr||(Pr={}));var Or;(function(e){e.Error="error",e.Performance="performance",e.cdnDetect="cdn"})(Or||(Or={}));var Mr;(function(e){e[e.fcp=0]="fcp",e[e.fid=1]="fid",e[e.lcp=2]="lcp",e[e.cls=3]="cls",e[e.tbt=4]="tbt"})(Mr||(Mr={}));let Lr=(e=21)=>crypto.getRandomValues(new Uint8Array(e)).reduce((t,r)=>(r&=63,r<36?t+=r.toString(36):r<62?t+=(r-26).toString(36).toUpperCase():r>62?t+="-":t+="_",t),"");function $r(){const e=navigator.userAgent,t=e.includes("Macintosh")&&navigator.maxTouchPoints>1,r=e.includes("iPad")||e.includes("Macintosh")&&"ontouchend"in document;return t||r}function Mn(e){var t,r,o;try{const n=e||navigator.userAgent,s=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(n),i=$r(),c=/Android.*wv/i.test(n)||/Version\/[\d.]+.*Chrome\/[.0-9]* Mobile/i.test(n),d=/wv2/i.test(n)||/Edge\/\d+/i.test(n)&&!/Chrome/i.test(n),u=function(){var h;return!!(navigator.platform==="MacIntel"&&((h=window==null?void 0:window.webkit)!=null&&h.messageHandlers))}(),l=(t=window==null?void 0:window.navigator)==null?void 0:t.standalone,a=(o=(r=window==null?void 0:window.matchMedia)==null?void 0:r.call(window,"(display-mode: standalone)"))==null?void 0:o.matches;return s||u&&i?"iOS WebView":c?"Android WebView":d?"Windows WebView2":u&&!i?"macOS WebView":l||a?"PWA":"Browser"}catch{return"N/A"}}const Ln=Mn();function $n(e){var o,n,s,i,c,d;let t="Unknown",r="";return/android/i.test(e)?(t="UserOS-Android",r=((o=e.match(/Android\s([0-9\.]+)/i))==null?void 0:o[1])||""):/iPad|iPhone|iPod/.test(e)&&!(window!=null&&window.MSStream)||$r()?(t="UserOS-iOS",r=((s=(n=e.match(/OS\s([0-9_]+)/i))==null?void 0:n[1])==null?void 0:s.replace(/_/g,"."))||""):/Macintosh|MacIntel|MacPPC|Mac68K/.test(e)?(t="UserOS-Mac",r=((c=(i=e.match(/Mac OS X\s([0-9_]+)/i))==null?void 0:i[1])==null?void 0:c.replace(/_/g,"."))||""):/Win32|Win64|Windows|WinCE/.test(e)?(t="UserOS-Windows",r=((d=e.match(/Windows NT\s([0-9\.]+)/i))==null?void 0:d[1])||""):/Linux/.test(e)&&(t="UserOS-Linux",r=""),{os:t,version:r}}function kn(e){var o,n,s,i,c,d;let t="Unknown",r="";return/MSIE|Trident/.test(e)?(t="UserBrowser-Internet Explorer",r=((o=e.match(/(MSIE\s|rv:)([0-9\.]+)/))==null?void 0:o[2])||""):/Edg(A|iOS)?/i.test(e)?(t="UserBrowser-Microsoft Edge",r=((n=e.match(/Edg\/([0-9\.]+)/))==null?void 0:n[1])||""):/Chrome/.test(e)&&!/Edg/.test(e)&&!/OPR/.test(e)?(t="UserBrowser-Chrome",r=((s=e.match(/Chrome\/([0-9\.]+)/))==null?void 0:s[1])||""):/Safari/.test(e)&&!/Chrome/.test(e)?(t="UserBrowser-Safari",r=((i=e.match(/Version\/([0-9\.]+)/))==null?void 0:i[1])||""):/Firefox/.test(e)?(t="UserBrowser-Firefox",r=((c=e.match(/Firefox\/([0-9\.]+)/))==null?void 0:c[1])||""):/OPR/.test(e)&&(t="UserBrowser-Opera",r=((d=e.match(/OPR\/([0-9\.]+)/))==null?void 0:d[1])||""),{browser:t,version:r}}const Dn=()=>{const e=["/websdk/version","/live-sdk-version/fast","/history/timestamp/engagement","/engagement/participants","/customer/incoming","in/visitor/mode"],t=["/chat-client.js","/chat-client-zva-v2.js","/chat-client-zcc-v2.js","/web-campaign.js"],r={};return performance.getEntriesByType("resource").forEach(n=>{[...t,...e].forEach(s=>{new RegExp(s).test(n.name)&&(r[n.name]||(r[s]={duration:Math.floor(n.duration),initiatorType:n==null?void 0:n.initiatorType}))})}),r},In=e=>{const t=Ke.customerPerf.read()||{};t[e]||Ke.customerPerf.write({...t,[e]:Kr()})},kr=navigator.userAgent,{os:zn,version:An}=$n(kr),{browser:Tn,version:Rn}=kn(kr),_t={userOS:zn,userOSVersion:An,userBrowser:Tn,userBrowserVersion:Rn,webViewEnv:Ln},ce="logs",Nn=30*24*60*60*1e3;function ks(){}function Dr(){return(void 0).catch(()=>void 0)}function jn(e){Dr().then(t=>{const o=t.transaction([ce],"readwrite").objectStore(ce),n={message:e,timestamp:new Date().toISOString(),expiry:Date.now()+Nn};o.add(n)}).catch(console.error)}function Bn(){Nr()&&Dr().then(e=>{const o=e.transaction([ce],"readonly").objectStore(ce).getAll();o.onsuccess=function(n){const s=n.target.result;s.length>0&&s.forEach(i=>{Tr(i.message),e.transaction([ce],"readwrite").objectStore(ce).delete(i.id)})}}).catch(console.error)}function Zn(){(void 0).then(e=>{const o=e.transaction([ce],"readonly").objectStore(ce).getAll();o.onsuccess=function(n){const s=n.target.result;console.log("Current logs:",s)},o.onerror=function(n){var s;console.error(`Failed to retrieve logs: ${(s=n.target.error)==null?void 0:s.message}`)}}).catch(console.error)}const Le="__ZCC__LIVECHAT__MONITOR__",Je="__ZCC__MONITOR__CONTEXT__ID__",Un="ZCC",xn="ZVA",Vn="WebSDKLiveChat",Wn={type:"normal",lazy:!0,isError:!1},Fn=["/chat-client.js","/chat-client-zva-v2.js","/chat-client-zcc-v2.js","/web-campaign.js"],Gn=()=>{const e="__ZCC__LIVECHAT__MONITOR__SessionId__";let t=sessionStorage.getItem(e);return t||(t=Lr(),sessionStorage.setItem(e,t)),t},Kn=()=>{var e;return(e=A==null?void 0:A.isZvaMode)!=null&&e.read()?xn:Un},Ir=()=>(window[Je]||(window[Je]=Lr()),window[Je]),Ct=e=>{const t=()=>({chatEntryId:null,videoEntryId:null,chatSessionId:null});return{cm:{detail:{moduleType:Kn(),zccContent:{module:Vn,contextId:Ir(),browserSessionId:Gn(),timestamp:Date.now(),timestampCN:new Date().toLocaleString("zh-CN",{timeZone:"Asia/Shanghai"}),...e,...t()}}}}},zr=()=>navigator.onLine,Et=[],Hn=e=>{Et.push(e)},Ar=()=>{Et.length=0},Yn=()=>[...Et],qn=e=>{var d;const o=(u=>{const l=new URLSearchParams;for(const a in u)Object.prototype.hasOwnProperty.call(u,a)&&l.append(a,u[a]);return l.toString()})({type:"performance",path:"/",performance:e}),n=new Blob([o],{type:"application/x-www-form-urlencoded"}),s=["sa01"],i=A.env.read()||"us01",c=(d=de[i])==null?void 0:d.LOG;if(!s.includes(i)&&c)try{navigator==null||navigator.sendBeacon(c,n)}catch{}},Jn=e=>Ct({...He([be,mr]),..._t,...e}),Xn=e=>Ct({...He([cn,mr]),..._t,...e}),Qn=e=>{var r,o;return Ct({...(()=>{const n=performance.timing;return{navigationStart:n.navigationStart,DOMContentLoaded:n.domContentLoadedEventEnd,browserLoaded:n.loadEventEnd}})(),...(r=He([Ke]))==null?void 0:r.resourcePerf,...(o=He([Ke]))==null?void 0:o.customerPerf,...Dn(),..._t,...e})},Pt=e=>{qn(e)},es=(e,t,r)=>{const o={...Wn,...t};let n={};switch(o.type){case"normal":n=Jn(e);break;case"track":n=Xn(e);break;case"performance":n=Qn(e);break}r==="local"&&(n.storeFrom="fromIndexedDB"),zr()||(n.isOfflineReport=!0);try{if(navigator!=null&&navigator.connection){const s=navigator==null?void 0:navigator.connection,i=`network-type-${s.effectiveType}`,c=800,d=1;let u="good-network";(s.rtt>c||s.downlink<d)&&(u="bad-network"),n.networkData={rtt:s==null?void 0:s.rtt,downlink:s==null?void 0:s.downlink,effectiveType:s==null?void 0:s.effectiveType,networkType:i,networkQuality:u}}}catch{}try{return JSON.stringify(n)}catch{return""}},ts=e=>{Pt(e)},Tr=e=>{try{window[Le].__Monitor__(e)}catch{}},$e={reportToLocal:e=>{jn(e)},reportToService:(e,t=!0)=>{const r=o=>{window.requestIdleCallback&&typeof window.requestIdleCallback=="function"?window.requestIdleCallback(()=>{Pt(o)}):Pt(o)};if(t){const o=Yn();o.length>0&&(o.forEach(n=>Tr(n)),Ar())}r(e)},reportToQueue:e=>{Hn(e)}},rs=(e,t,r)=>{const o=es(e,t,r);if(A.enableReportChatLogFrontEnd.read()!==!1){if(r==="server"){if(!zr()){$e.reportToQueue(o);return}t.isErrorMsg?$e.reportToService(o,!1):A.enableReportChatLogOP.read()===!0||A.enableReportChatLogFrontEnd.read()===!0?$e.reportToService(o,!0):$e.reportToQueue(o);return}r==="local"&&$e.reportToLocal(o)}},Rr=(e,t={type:"normal",lazy:!0})=>{try{window[Le].Monitor(e,t,"server")}catch{}},re={report:Rr,reportLocal:(e,t={type:"normal",lazy:!0})=>{try{window[Le].Monitor(e,t,"local")}catch{}}},os=()=>{window.addEventListener("beforeunload",()=>{re.report({name:"Performance Report"},{type:"performance",lazy:!1}),re.report({name:"Track Report"},{type:"track",lazy:!1}),A.enableReportChatLogOP.read()===!1&&Ar()})},ns=()=>{window.addEventListener("online",()=>{re.report({name:"Network State: online"})}),window.addEventListener("offline",()=>{re.report({name:"Network State: offline"})})},Nr=()=>!!window[Le],ss=()=>{window[Le]={Monitor:rs,__Monitor__:ts,CONTEXT_ID:Ir(),ReportDetailLogs:Bn,ViewAllLocalLogs:Zn}};function is(e,t=.1){function r(){return Math.random()<t}window.addEventListener("error",o=>{try{if(o.error){const n=o.filename||"Unknown source";if(e.some(s=>n.includes(s))){const s={message:o.message||"Unknown error",source:n,lineno:o.lineno||0,colno:o.colno||0,stack:o.error.stack||"No stack available"};r()&&Rr({name:"WebSDK Script Runtime Error",message:s},{isErrorMsg:!0})}}}catch{}},!0)}const as=()=>{try{Nr()||(ss(),os(),ns(),is(Fn,.1))}catch{}},me=wt({level:G.verbose}),cs={log(e){switch(e.type){case"info":case"success":case"error":case"warn":case"debug":case"start":{if(e.type==="debug"&&!A.enableLog.read())return;const r={info:me.info,success:me.success,error:me.error,warn:me.warn,debug:me.debug,start:me.start}[e.type],o=Er.gray(zt(e.date.valueOf(),"YY/MM/DD HH:mm:ss.SSS Z")),n=Er.bold.blueBright(`[@ZCC_${e.tag||"GLOBAL"}]`);r(`${n} ${o}:`,...e.args);break}case"trace":{me.trace(e.args);break}}}},jr=wt({level:G.verbose,reporters:[cs]});function ls(e){let t=jr;return e!=null&&e.name&&(t=t.withTag(e.name)),e!=null&&e.consolaOptions&&(t=t.create(e.consolaOptions)),t}const[Is,us]=Gt({}),se=ls({name:"Loader"}),ds=()=>be.chatEntryId.read()?be.chatEntryId.read():be.videoEntryId.read()?be.videoEntryId.read():be.apikey.read(),fs=e=>`&sdkVersion=${e??Xt}&zrZak=${(window==null?void 0:window.iniZak)??""}&isKiosk=${!!(window!=null&&window.iniZak)}`;async function hs(e,t,r){var s,i,c,d,u,l,a,h;if((s=A==null?void 0:A.cdnZccVersion)!=null&&s.read()){se.debug(`Found version in cache: ${A.cdnZccVersion.read()}`);return}const o={};t&&(o.apikey=t);const n=K(ko[e],`v1/live-sdk-version/fast?${new URLSearchParams(o)}`);try{const f=await fetch(n).then(b=>b.json());(i=f==null?void 0:f.result)!=null&&i.liveSDKPath&&typeof f.result.liveSDKPath=="string"?((c=A==null?void 0:A.cdnZccVersion)==null||c.write(f.result.liveSDKPath),se.debug(`WebSDK ZCC version: ${f.result.liveSDKPath}`)):se.debug(`No version found in response: ${JSON.stringify(f)}`),(d=f==null?void 0:f.result)!=null&&d.frontendConfig&&typeof f.result.frontendConfig=="object"?((u=A==null?void 0:A.frontendConfig)==null||u.write(f.result.frontendConfig),se.debug(`WebSDK frontendConfig info: ${JSON.stringify(f.result.frontendConfig)}`)):se.debug(`WebSDK no frontendConfig configuration: ${JSON.stringify(f)}`);const m=K(zo(e).ccizpapi,`v1/livesdk/info?apikey=${ds()??""}${fs(f.result.liveSDKPath)}`);if(((l=f==null?void 0:f.result)==null?void 0:l.enableZCCLiveSDKGrayscale)===!0){const b=await fetch(m,r?{headers:No()}:{}).then(E=>E.json());(a=b==null?void 0:b.result)!=null&&a.sdkVersion&&typeof b.result.sdkVersion=="string"&&((h=A==null?void 0:A.cdnZccVersion)==null||h.write(b.result.sdkVersion))}}catch(f){se.warn("Failed to get version",f)}}async function ms(e,t){if(A.cdnZvaVersion.read()){se.debug(`Found version in cache: ${A.cdnZvaVersion.read()}`);return}const r=`${Do[e]}v1/websdk/version`;try{const o=await fetch(r,{method:"GET",headers:{"X-Zm-apiKey":t}}).then(n=>n.json());o!=null&&o.result?(us(n=>{n.COMMON_CDN_ZVA_VERSION=o==null?void 0:o.result}),A.cdnZvaVersion.write(o==null?void 0:o.result),se.debug(`WebSDK ZVA version: ${o==null?void 0:o.result}`)):se.debug(`No version found in response: ${JSON.stringify(o)}`)}catch(o){se.warn("Failed to get version",o)}}const ae=jr.withTag("LOADER"),gs=Se("WebVideo"),ps=Se("VideoSdk"),ws=Se("ZccSdk"),ys=Se("ZvaSdk"),Ss=Se("ScheduleCallbackSDK"),vs=Se("WebCampaign"),ge={WebVideo:gs,VideoSdk:ps,ZccSdk:ws,ZvaSdk:ys,WebCampaign:vs,ScheduleCallbackSDK:Ss};function Ot(){try{return!!(window.define&&window.define.amd)}catch{return!1}}function Mt({errorCount:e,error:t={},importURL:r,retryTimes:o={}}){re.report({name:"WebSDK CDN failed: retries",message:{errorMessage:t==null?void 0:t.message,retries:`After retries: ${e} times`,importURL:r,retryTimes:o}},{isErrorMsg:!0})}function Lt(e){const{status:t,statusMsg:r,errorCount:o,importURL:n,responseHeader:s,retryTime:i}=e;re.report({name:`WebSDK CDN fetch retry: ${t}`,message:{statusMsg:r,importURL:n,retries:`After retries: ${o} times`,retryTime:`${i} s`}},{isErrorMsg:!0})}const Br=(e,t)=>{try{const r=performance.now();fetch(e).then(o=>{const s=((performance.now()-r)/1e3).toFixed(2),i={};if(o.headers.forEach((c,d)=>{i[d]=c}),o.ok){const c=`Successfully loaded with status: ${o.status}`;Lt({status:"success",statusMsg:c,errorCount:t,importURL:e,responseHeader:i,retryTime:s})}else{const c=`Error Status Code: ${o.status}, Status Text: ${o.statusText}`;Lt({status:"fail",statusMsg:c,errorCount:t,importURL:e,responseHeader:i,retryTime:s})}}).catch(o=>{const s=((performance.now()-r)/1e3).toFixed(2),i=`Fetch failed: ${o.message}`;Lt({status:"fail",statusMsg:i,errorCount:t,importURL:e,responseHeader:{},retryTime:s})})}catch{}};async function Zr(e,t,r=6){let o=e;const n={};for(let s=1;s<=r;s++){const i=performance.now();if(s===Math.floor(r/2)){if(Br(o,s),!t){Mt({errorCount:s,retryTimes:n,importURL:o});break}o=t}try{const c=await import(o),u=((performance.now()-i)/1e3).toFixed(2);return n[s]=`${u} s`,s>0&&Mt({errorCount:s,retryTimes:n,importURL:o}),c}catch(c){const u=((performance.now()-i)/1e3).toFixed(2);if(n[s]=`${u} s`,s===r)throw Br(o,s),Mt({errorCount:s,retryTimes:n,importURL:o,error:c}),c}}}const bs=({isZva:e,version:t,origin:r})=>{var c;const o=(c=A.frontendConfig)==null?void 0:c.read();if(o&&o.disableSdkCheckIframeSupport)return;const n=new URL(K(r,t,`chat-${e?"zva":"zcc"}-v3.html`)),s=document.createElement("iframe");s.style.display="none";const i=d=>{const{origin:u="",pathname:l=""}=window.location,a=`${u}${l}`;re.report({name:"Website support SDK",message:{isZva:e,currentHostUrl:a,type:d}})};s.onload=()=>{let d=!1;const u=new URL(r).origin;window.addEventListener("message",l=>{if(l.origin===u&&l.data==="livesdk-iframe-loaded"){d=!0;try{document.body.removeChild(s)}catch{}}}),setTimeout(()=>{d||i("timeout")},5*1e3)},s.onerror=()=>{i("onerror");try{document.body.removeChild(s)}catch{}},s.src=n.href,document.body.appendChild(s)},_s=Ne("Common/ZccSdkPlugin").impl(e=>{const{useSdkLoader:t,hookManager:r}=e();return t(ge.WebVideo,{async load({env:o,version:n,entryId:s,apikey:i,draggableInvitation:c}){const d=async u=>{const l=new URL(K(oe[o],u,Ot()?"video-share-v2.es.js":"video-share-v2.js"));return o&&l.searchParams.set("env",o),s&&l.searchParams.set("entryId",s),i&&l.searchParams.set("apikey",i),c&&l.searchParams.set("draggableInvitation",c),ae.debug(`Loading web video sdk from ${l}`,{env:o}),re.report({name:"Loading video-share js...",message:{isRequireJsEnv:Ot()?"Y":"N"}},{isErrorMsg:!1}),await import(l.href)};try{return await d(n)}catch(u){return re.report({name:"Load video-share js failed",message:{isRequireJsEnv:Ot()?"Y":"N",errorMessage:`load video-share failed: ${(u==null?void 0:u.message)||"unknown error"}`}},{isErrorMsg:!0}),await d()}}}),t(ge.VideoSdk,{async load({env:o,version:n,entryId:s,apikey:i,draggableInvitation:c,cdnEnv:d}){const u=async l=>{const a=new URL(K(oe[d||o],l,"video-client-v2.js"));return o&&a.searchParams.set("env",o),s&&a.searchParams.set("entryId",s),i&&a.searchParams.set("apikey",i),c&&a.searchParams.set("draggableInvitation",c),ae.debug(`Loading video sdk from ${a}`,{env:o}),await import(a.href)};try{return await u(n)}catch(l){return console.log("load video error",l),await u()}}}),t(ge.ScheduleCallbackSDK,{async load({env:o,version:n,entryId:s,apikey:i,draggableInvitation:c,cdnEnv:d}){const u=async l=>{const a=new URL(K(oe[d||o],l,"scheduled-callbacks.js"));return o&&a.searchParams.set("env",o),s&&a.searchParams.set("entryId",s),i&&a.searchParams.set("apikey",i),c&&a.searchParams.set("draggableInvitation",c),ae.debug(`Loading scheduled callback sdk from ${a}`,{env:o}),await import(a.href)};try{return await u(n)}catch(l){return console.log("load video error",l),await u()}}}),t(ge.ZccSdk,{async load({draggableInvitation:o,windowPosition:n,zIndexBase:s,skipInit:i,version:c,entryId:d,apikey:u,mode:l,env:a,el:h}){const f=async(m,v=!0)=>{const b=new URL(K(oe[a],m,"chat-client-zcc-v2.js"));a&&b.searchParams.set("env",a),d&&b.searchParams.set("entryId",d),u&&b.searchParams.set("apikey",u),s&&b.searchParams.set("zIndexBase",s),h&&b.searchParams.set("selector",h),o&&b.searchParams.set("draggableInvitation",o),n&&b.searchParams.set("windowPosition",n),l&&b.searchParams.set("mode",l),i&&b.searchParams.set("skipInit","true"),ae.debug(`Loading chat sdk from ${b}`,{env:a});try{return await import(b.href)}catch(E){if(re.report({name:"WebSDK CDN failed: load",message:E==null?void 0:E.message},{isErrorMsg:!0}),v)return await f(void 0,!1)}};return await f(c)}}),t(ge.ZvaSdk,{async load({draggableInvitation:o,windowPosition:n,zIndexBase:s,skipInit:i,version:c,entryId:d,apikey:u,mode:l,env:a,el:h}){const f=new URL(K(oe[a],c,"chat-client-zva-v2.js"));a&&f.searchParams.set("env",a),d&&f.searchParams.set("entryId",d),u&&f.searchParams.set("apikey",u),s&&f.searchParams.set("zIndexBase",s),h&&f.searchParams.set("selector",h),o&&f.searchParams.set("draggableInvitation",o),n&&f.searchParams.set("windowPosition",n),l&&f.searchParams.set("mode",l),i&&f.searchParams.set("skipInit","true"),ae.debug(`Loading chat sdk from ${f}`,{env:a}),f.searchParams.set("zva","true");try{return await import(f.href)}catch{const v=z=>{let O=null;if(z){if(!Be[a])return"";O=new URL(K(Be[a],c,"chat-client-zva-v2.js"))}else O=new URL(K(oe[a],c,"chat-client-zva-v2.js"));return a&&O.searchParams.set("env",a),d&&O.searchParams.set("entryId",d),u&&O.searchParams.set("apikey",u),s&&O.searchParams.set("zIndexBase",s),h&&O.searchParams.set("selector",h),o&&O.searchParams.set("draggableInvitation",o),n&&O.searchParams.set("windowPosition",n),l&&O.searchParams.set("mode",l),i&&O.searchParams.set("skipInit","true"),ae.debug(`Loading chat sdk from ${O}`,{env:a}),O.searchParams.set("zva","true"),O.href},b=v(!1),E=v(!0);return await Zr(b,E,6)}}}),t(ge.WebCampaign,{async load({draggableInvitation:o,windowPosition:n,lazyLoadCampaignUrl:s,zIndexBase:i,version:c,entryId:d,apikey:u,env:l,fullScreenId:a}){const h=new URL(K(oe[l],c,"web-campaign.js"));l&&h.searchParams.set("env",l),u&&h.searchParams.set("apikey",u),i&&h.searchParams.set("zIndexBase",i),d&&h.searchParams.set("entryId",d),o&&h.searchParams.set("draggableInvitation",o),n&&h.searchParams.set("windowPosition",n),s&&h.searchParams.set("lazyLoadCampaignUrl",s),a&&h.searchParams.set("fullScreenId",a),ae.debug(`Loading web campaign sdk from ${h}`,{env:l});try{return await import(h.href)}catch{const m=E=>{let z=null;if(E){if(!Be[l])return"";z=new URL(K(Be[l],c,"web-campaign.js"))}else z=new URL(K(oe[l],c,"web-campaign.js"));return l&&z.searchParams.set("env",l),u&&z.searchParams.set("apikey",u),i&&z.searchParams.set("zIndexBase",i),d&&z.searchParams.set("entryId",d),o&&z.searchParams.set("draggableInvitation",o),n&&z.searchParams.set("windowPosition",n),s&&z.searchParams.set("lazyLoadCampaignUrl",s),a&&z.searchParams.set("fullScreenId",a),ae.debug(`Loading web campaign sdk from ${z}`,{env:l}),z.href},v=m(!1),b=m(!0);return await Zr(v,b,6)}}}),r.trigger.useLoader({useSdkLoader:t,logger:e().logger}),{async loadZccSdk(o,{v1:n=!1,env:s="us01",cdnEnv:i,version:c,...d}={}){var m,v;const u=o==="ZvaSdk",l=o==="WebVideo"||o==="VideoSdk";let a;try{a=new URLSearchParams(window.location.search).get("__zcc_version__")}catch(b){ae.error("Failed to get test version",b)}o!=="WebCampaign"&&(u?await ms(s,d.entryId?d.entryId:d.apikey):await hs(s,d.apikey,l));const h=(m=A==null?void 0:A.cdnZccVersion)==null?void 0:m.read(),f=(v=A==null?void 0:A.cdnZvaVersion)==null?void 0:v.read();if(c||((s==="dev"||s==="qa")&&(c=Xt),o!=="WebCampaign"&&(!u&&h&&(c=h),u&&f&&(c=f)),a&&(c=a)),!l)try{const b=new URL(K(oe[s],c,"cross-storage.html"));await en(b.href)}catch{}window[Io]=i||s;try{setTimeout(()=>{bs({isZva:u,version:c,origin:oe[s]})},30*1e3)}catch{}return e().importSdk(ge[o],{v1:n,env:s,version:c,...d})}}},[fr]),Cs=Ne("Utils/DiscoverSdkPlugin").impl(e=>{const{loadZccSdk:t,logger:r}=e(),o=d=>{var u;if(d==="zva"){const l=document.querySelector('script[data-apikey][data-chat-entry-id][data-product-module="zva"]');if(l){const{dataset:a}=l;return a}}else if(d==="chat"){const l=document.querySelector('script[data-apikey][data-chat-entry-id]:not([data-product-module="zva"])');if(l){const{dataset:a}=l;return a}}else{if((u=window.zoomCampaignSdkConfig)!=null&&u.apikey)return{apikey:window.zoomCampaignSdkConfig.apikey,env:window.zoomCampaignSdkConfig.env};const l=document.querySelector('script:not([data-apikey])[src$="zcc-sdk.js"][data-chat-entry-id], script:not([data-apikey])[src$="chat-client.js"][data-chat-entry-id], script[data-apikey][src$="chat-client.js"]:not([data-chat-entry-id]), script[data-apikey][src$="zcc-sdk.js"]:not([data-chat-entry-id]), script[src$="chat-client.js"]:not([data-chat-entry-id]), script[src$="zcc-sdk.js"]:not([data-chat-entry-id])');if(l){const{dataset:a}=l;return a}}return null},n=()=>{const d=document.querySelector('script[data-apikey][src*=".zoom"]:not([data-chat-entry-id]):not([src$="chat-client.js"]):not([src$="zcc-sdk.js"]), script[data-entry-id][src*=".zoom"]');if(d){const{dataset:u}=d;return u}return null},s=d=>{switch(d){case"chat":case"zva":case"campaign":return o(d);case"video":return n();default:return null}},i=async()=>{["chat","zva","campaign"].forEach(async d=>{const u=Ur(s(d));if(u){r.info(`${d} sdk  discovered`);const l=Jt(u.get("env"))||"us01",a=u.get("chatEntryId"),h=u.get("productModule"),f=u.get("apikey"),m=u.get("zIndexBase"),v=u.get("draggableInvitation"),b=u.get("windowPosition"),E=u.get("el"),z=u.get("lazyLoadCampaignUrl"),O=u.get("fullScreenId")||"",Q={env:l,entryId:a,apikey:f,zIndexBase:m,draggableInvitation:v,windowPosition:b,lazyLoadCampaignUrl:z,fullScreenId:O,zva:h==="zva"},J=Q.zva?"ZvaSdk":"ZccSdk";a&&f?t(J,{...Q,el:E}):t("WebCampaign",{...Q})}})},c=async()=>{const d=Ur(s("video"));if(d){r.info("video sdk  discovered");const u=Jt(d.get("env"))||"us01",l=d.get("entryId"),a=d.get("apikey"),h=d.get("lazyLoadCampaignUrl"),f=d.get("draggableInvitation");t("VideoSdk",{env:u,entryId:l,apikey:a,draggableInvitation:f,lazyLoadCampaignUrl:h})}};return{discoverSdk:s,discover(){i(),c()}}},[_s]);function Ur(e){if(e){const t=new Map;return Object.keys(e).forEach(r=>{t.set(r,e[r])}),t}return null}as(),In("webSDKLoaderReady"),yo.create("SdkLoader").info("Loaded");const Es=[fr,Cs];Ne.mixin(Es,{name:"SdkLoader"}).discover(),re.report({name:"Loader start"})})();
